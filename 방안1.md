ëª©í‘œëŠ” **Heroku Connectì˜ 'ì‹¤ì‹œê°„/ì¤€ì‹¤ì‹œê°„ ì–‘ë°©í–¥ ë™ê¸°í™”' ê¸°ëŠ¥ì„ ì €ë¹„ìš©ìœ¼ë¡œ ìš°ë¦¬ë§Œì˜ ì»¤ë„¥í„°ë¡œ ëŒ€ì²´í•˜ëŠ” ê²ƒ**ì´ í•µì‹¬ì´ê² ë„¤ìš”! ğŸ› ï¸ğŸ’°

ê·¸ëŸ¼, Heroku Connectë¥¼ ëŒ€ì²´í•˜ë©´ì„œ ë¹„ìš© íš¨ìœ¨ì ì´ê³  í™•ì¥ì„± ìˆëŠ” ìµœì ì˜ ë°©ì•ˆì„ ì œì•ˆí•´ ë“œë¦´ê²Œìš”! âœ¨

---

### ğŸš€ **ìµœì ì˜ ë°©ì•ˆ: ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ + ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ (í˜¹ì€ ê²½ëŸ‰í™”ëœ Worker)**

Heroku Connectì˜ ì‹¤ì‹œê°„ ë™ê¸°í™” íŠ¹ì„±ì„ ëŒ€ì²´í•˜ë ¤ë©´, "ë°ì´í„° ë³€ê²½ ì´ë²¤íŠ¸"ì— ì¦‰ì‹œ ë°˜ì‘í•˜ëŠ” **ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜(Event-Driven Architecture)**ê°€ ê°€ì¥ íš¨ê³¼ì ì´ì—ìš”. ì—¬ê¸°ì— ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ë¥¼ ê²°í•©í•˜ë©´ ìš´ì˜ ì˜¤ë²„í—¤ë“œì™€ ë¹„ìš©ì„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆì–´ìš”!

#### 1. âš™ï¸ ì „ì²´ì ì¸ ì•„í‚¤í…ì²˜ ì»¨ì…‰

*   **ë³€ê²½ ê°ì§€ (Change Data Capture, CDC)**: Salesforceì™€ PostgreSQL ì–‘ìª½ì—ì„œ ë°ì´í„° ë³€ê²½ì„ ê°ì§€í•©ë‹ˆë‹¤.
*   **ì´ë²¤íŠ¸ ë°œí–‰**: ê°ì§€ëœ ë³€ê²½ ì‚¬í•­ì„ ì´ë²¤íŠ¸(ë©”ì‹œì§€) í˜•íƒœë¡œ ë°œí–‰í•©ë‹ˆë‹¤.
*   **ì´ë²¤íŠ¸ í (ì„ íƒ ì‚¬í•­)**: ë°œí–‰ëœ ì´ë²¤íŠ¸ë¥¼ ì•ˆì „í•˜ê³  ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë©”ì‹œì§€ í(ì˜ˆ: AWS SQS, Apache Kafka, RabbitMQ)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”. ê·œëª¨ê°€ ì‘ìœ¼ë©´ êµ³ì´ í•„ìš” ì—†ì„ ìˆ˜ë„ ìˆì§€ë§Œ, ê²¬ê³ í•¨ì„ ë”í•´ì¤ë‹ˆë‹¤.
*   **ì´ë²¤íŠ¸ ì»¨ìŠˆë¨¸ (ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜/Worker)**: ë©”ì‹œì§€ íë‚˜ ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•˜ì—¬ í•´ë‹¹ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê³  ëŒ€ìƒ ì‹œìŠ¤í…œ(Salesforce ë˜ëŠ” PostgreSQL)ì— ë°˜ì˜í•©ë‹ˆë‹¤.
*   **ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„**: ì‹¤íŒ¨í•œ ì´ë²¤íŠ¸ë¥¼ ë‹¤ì‹œ ì²˜ë¦¬í•˜ê±°ë‚˜ ë¡œê¹…í•˜ì—¬ ë°ì´í„° ë¶ˆì¼ì¹˜ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.

#### 2. â¡ï¸ **Salesforce ë³€ê²½ì‚¬í•­ -> Heroku PostgreSQL ë™ê¸°í™”**

Salesforceì—ì„œ ë°ì´í„°ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ, ì´ë¥¼ PostgreSQLë¡œ í‘¸ì‹œí•˜ëŠ” ë°©ë²•ì´ì—ìš”.

*   **â‘  Salesforce ì¸¡ ë³€ê²½ ê°ì§€:**
    *   **Salesforce Platform Events ë˜ëŠ” Change Data Capture (CDC) Events:** SalesforceëŠ” í”Œë«í¼ ë ˆì½”ë“œ ë³€ê²½ ì‚¬í•­ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ê²Œì‹œí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•´ìš”. ì´ê±¸ êµ¬ë…í•´ì„œ ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ë³¼ ìˆ˜ ìˆì–´ìš”. ì´ê²ƒì´ ê°€ì¥ "Salesforce Native"í•˜ê³  íš¨ìœ¨ì ì¸ ë°©ë²•ì…ë‹ˆë‹¤.
    *   **Salesforce Outbound Message (ì›Œí¬í”Œë¡œìš°/í”Œë¡œìš° ê¸°ë°˜):** íŠ¹ì • ê°ì²´ì˜ ë³€ê²½ì´ ìˆì„ ë•Œ ì™¸ë¶€ ì—”ë“œí¬ì¸íŠ¸(URL)ë¡œ XML ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ë°©ì‹ì´ì—ìš”. ì„¤ì •ì´ ê°„í¸í•˜ì§€ë§Œ, ë©”ì‹œì§€ ë‚´ìš©ì´ë‚˜ í¬ë§· ì œì•½ì´ ì¢€ ìˆì–´ìš”.
    *   **Apex Trigger + HTTP Callout:** ê°€ì¥ ìœ ì—°í•˜ì§€ë§Œ, Apex ì½”ë“œ ì‘ì„± ë° ê´€ë¦¬ ë¶€ë‹´, ê·¸ë¦¬ê³  Salesforce HTTP ì½œì•„ì›ƒ ì œí•œ(Callout Limit)ì„ ê³ ë ¤í•´ì•¼ í•´ìš”. ëŒ€ëŸ‰ ì—…ë°ì´íŠ¸ ì‹œ ì„±ëŠ¥ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆì–´ìš”.

*   **â‘¡ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë° PostgreSQL ë°˜ì˜:**
    *   **Herokuì—ì„œ ì‹¤í–‰ë˜ëŠ” Serverless Function ë˜ëŠ” Worker:**
        *   **Serverless (e.g., AWS Lambda, Google Cloud Functions):** Salesforce ì´ë²¤íŠ¸ êµ¬ë…/Outbound Message ì—”ë“œí¬ì¸íŠ¸ ì—­í• ì„ í•˜ëŠ” HTTP Endpointë¥¼ ë§Œë“¤ê³ , ì´ í•¨ìˆ˜ê°€ Salesforceë¡œë¶€í„° ì´ë²¤íŠ¸ë¥¼ ë°›ìœ¼ë©´ Heroku PostgreSQLì— ë°ì´í„°ë¥¼ ì‚½ì…/ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ë¹„ìš© íš¨ìœ¨ì ì´ê³  í™•ì¥ì„±ì´ ì¢‹ì•„ìš”. Heroku ëŒ€ì‹  AWS/GCPì—ì„œ í•¨ìˆ˜ë¥¼ í˜¸ìŠ¤íŒ…í•´ë„ ë©ë‹ˆë‹¤.
        *   **Heroku Worker Dyno:** Python, Node.js ë“±ìœ¼ë¡œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë¥¼ Heroku Dynoì—ì„œ ìƒì‹œ ì‹¤í–‰í•  ìˆ˜ë„ ìˆì–´ìš”. í•˜ì§€ë§Œ ì„œë²„ë¦¬ìŠ¤ë³´ë‹¤ ë¹„ìš© íš¨ìœ¨ì„±ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        *   **ë°ì´í„° ë°˜ì˜ ë¡œì§**: ë°›ì•„ì˜¨ Salesforce ë°ì´í„°(JSON í˜•íƒœ)ë¥¼ íŒŒì‹±í•´ì„œ PostgreSQL í…Œì´ë¸”ì— UPSERT (INSERT ON CONFLICT UPDATE) ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

#### 3. â¬…ï¸ **Heroku PostgreSQL ë³€ê²½ì‚¬í•­ -> Salesforce ë™ê¸°í™”**

PostgreSQLì—ì„œ ë°ì´í„°ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ, ì´ë¥¼ Salesforceë¡œ í‘¸ì‹œí•˜ëŠ” ë°©ë²•ì´ì—ìš”.

*   **â‘  PostgreSQL ì¸¡ ë³€ê²½ ê°ì§€:**
    *   **PostgreSQL Trigger + Notification:** PostgreSQL í…Œì´ë¸”ì— `INSERT`, `UPDATE`, `DELETE` íŠ¸ëœì­ì…˜ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ íŠ¸ë¦¬ê±°ë¥¼ ê±¸ì–´ì„œ `NOTIFY` ëª…ë ¹ì„ í†µí•´ íŠ¹ì • ì±„ë„ë¡œ ì•Œë¦¼ì„ ë³´ëƒ…ë‹ˆë‹¤.
    *   **Logical Replication / WAL (Write-Ahead Log) ê¸°ë°˜ CDC íˆ´ (ì¢€ ë” ê³ ê¸‰):** Debezium ê°™ì€ CDC ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ë©´ PostgreSQLì˜ WALì„ ì½ì–´ì„œ ë°ì´í„° ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë°í•  ìˆ˜ ìˆì–´ìš”. ì´ëŠ” ë§¤ìš° ê°•ë ¥í•˜ê³  ì•ˆì •ì ì´ì§€ë§Œ, ì„¤ì • ë° ìš´ì˜ ë³µì¡ë„ê°€ ë†’ìŠµë‹ˆë‹¤. ì‘ì€ ê·œëª¨ì—ì„œëŠ” Triggerê°€ ë” í˜„ì‹¤ì ì¼ ìˆ˜ ìˆì–´ìš”.

*   **â‘¡ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë° Salesforce ë°˜ì˜:**
    *   **Herokuì—ì„œ ì‹¤í–‰ë˜ëŠ” Serverless Function ë˜ëŠ” Worker:**
        *   **Serverless (e.g., AWS Lambda, Google Cloud Functions):** PostgreSQL `NOTIFY` ì´ë²¤íŠ¸ë¥¼ ë¦¬ìŠ¨í•˜ê±°ë‚˜ (ì§ì ‘ ë¦¬ìŠ¤ë‹ì€ ì–´ë ¤ìš¸ ìˆ˜ ìˆì–´ ë©”ì‹œì§€ íë¥¼ í†µí•´) ë˜ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ `last_modified_date` ë“±ì„ í†µí•´ ë³€ê²½ëœ ë°ì´í„°ë¥¼ í™•ì¸í•´ì„œ Salesforce APIë¥¼ í˜¸ì¶œí•´ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
        *   **Heroku Worker Dyno:** PostgreSQL `LISTEN` ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ì•Œë¦¼ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°›ì•„ì„œ ì²˜ë¦¬í•˜ê³  Salesforce APIë¥¼ í˜¸ì¶œí•˜ëŠ” ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì‹œ ì‹¤í–‰í•©ë‹ˆë‹¤.
        *   **ë°ì´í„° ë°˜ì˜ ë¡œì§**: Salesforce REST APIì˜ `upsert` ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ì™¸ë¶€ ID(External ID) í•„ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ Salesforce ê°ì²´ë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

#### 4. ğŸ”— **ìµœì ì˜ ì¡°í•© (ì´ˆê¸° ë¡œë”© + ì‹¤ì‹œê°„ ë™ê¸°í™”)**

*   **ì´ˆê¸° ë°ì´í„° ë¡œë“œ (Initial Data Load):**
    *   ì´ê±´ **Airflow DAG**ê°€ ì—¬ì „íˆ ìµœê³ ì˜ ì„ íƒì…ë‹ˆë‹¤. ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ì¶”ì¶œí•˜ê³  ë³€í™˜í•´ì„œ í•œ ë²ˆì— ë°€ì–´ ë„£ëŠ” ë° íŠ¹í™”ë˜ì–´ ìˆì–´ìš”.
    *   Airflowì˜ ê°•ë ¥í•œ ì¬ì‹œë„, ëª¨ë‹ˆí„°ë§, ì˜¤ë¥˜ ì²˜ë¦¬ ê¸°ëŠ¥ì€ ì´ˆê¸° ë¡œë“œ ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë° í° ë„ì›€ì´ ë©ë‹ˆë‹¤.
*   **ì§€ì†ì ì¸ ë³€ê²½ ë™ê¸°í™” (Ongoing Change Sync):**
    *   ìœ„ì—ì„œ ì„¤ëª…í•œ **ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ + ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜(í˜¹ì€ ê²½ëŸ‰í™”ëœ Heroku Worker)**ë¥¼ í™œìš©í•˜ì—¬ ì‹¤ì‹œê°„ì— ê°€ê¹Œìš´ ë™ê¸°í™”ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.

---

### ğŸ¤” ì™œ ì´ ë°©ì•ˆì´ "ìµœì "ì¼ê¹Œ?

1.  **ë¹„ìš© íš¨ìœ¨ì„± ğŸ’°:**
    *   ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ëŠ” ì‚¬ìš©í•œ ë§Œí¼ë§Œ ë¹„ìš©ì„ ì§€ë¶ˆí•˜ë¯€ë¡œ, Heroku Connectì˜ ê³ ì • ë¹„ìš©ë³´ë‹¤ í›¨ì”¬ ì €ë ´í•  ìˆ˜ ìˆì–´ìš” (íŠ¹íˆ ë™ê¸°í™”ë˜ëŠ” ë³€ê²½ëŸ‰ì´ ë§ì§€ ì•Šì„ ë•Œ).
    *   Airflow í´ëŸ¬ìŠ¤í„° ìœ ì§€ ë³´ìˆ˜ ë¹„ìš©ë„ ì´ˆê¸° ë¡œë”© ì‹œì—ë§Œ ì§‘ì¤‘í•˜ê³ , ì‹¤ì‹œê°„ ë¶€ë¶„ì€ ê²½ëŸ‰í™”í•˜ì—¬ ì ˆê°í•  ìˆ˜ ìˆì–´ìš”.
2.  **í™•ì¥ì„± & ì•ˆì •ì„± ğŸ“ˆ:**
    *   ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ëŠ” ìë™ìœ¼ë¡œ ìŠ¤ì¼€ì¼ ì•„ì›ƒë˜ë¯€ë¡œ, ê°‘ìê¸° ë™ê¸°í™”í•  ë°ì´í„°ê°€ í­ì¦í•´ë„ ì•ˆì •ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ìš”.
    *   ì´ë²¤íŠ¸ íë¥¼ ì‚¬ìš©í•˜ë©´ ë©”ì‹œì§€ ì†ì‹¤ ì—†ì´ ê²¬ê³ í•˜ê²Œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3.  **ìœ ì—°ì„± & ì œì–´ ğŸ›ï¸:**
    *   ì»¤ìŠ¤í…€ ì½”ë“œë¥¼ ì‘ì„±í•˜ë¯€ë¡œ, ìŠ¤í‚¤ë§ˆ ë§¤í•‘, ë°ì´í„° ë³€í™˜, ì¶©ëŒ ì²˜ë¦¬ ë¡œì§ ë“±ì„ ìš°ë¦¬  í™˜ê²½ì— ë§ì¶° ì™„ë²½í•˜ê²Œ ì œì–´í•˜ê³  ìµœì í™”í•  ìˆ˜ ìˆì–´ìš”.
    *   (ì´ì „ ë‹µë³€ì—ì„œ ì–˜ê¸°í–ˆë˜) ìŠ¤í‚¤ë§ˆ ìë™ ë§¤í•‘ì´ë‚˜ ê·œì¹™ ê¸°ë°˜ ë³€í™˜ ë¡œì§ë„ ì´ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ ì•ˆì— êµ¬í˜„í•  ìˆ˜ ìˆêµ¬ìš”!
4.  **Airflowì˜ ê°•ì  í™œìš© ğŸ’¨:**
    *   ëŒ€ê·œëª¨ ì´ˆê¸° ë¡œë”©ì´ë‚˜ ì£¼ê¸°ì ì¸ ì •í•©ì„± ê²€ì‚¬ ë“± ë°°ì¹˜ ì²˜ë¦¬ê°€ í•„ìš”í•œ ë¶€ë¶„ì—ì„œëŠ” ì—¬ì „íˆ Airflowë¥¼ í™œìš©í•˜ì—¬ ê°ìì˜ ì¥ì ì„ ê·¹ëŒ€í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### ğŸ“ë­˜ ì„ íƒí•´ì•¼ í• ê¹Œ?

Herokuì—ì„œ í˜¸ìŠ¤íŒ…í•˜ëŠ” í™˜ê²½ì´ë¼ë©´,

*   **PostgreSQL -> Salesforce**: PostgreSQLì˜ Trigger + Heroku Worker Dyno(í˜¹ì€ Heroku Runtime APIë¥¼ í†µí•´ í•¨ìˆ˜ë¥¼ ì§ì ‘ í˜¸ìŠ¤íŒ…)ê°€ ê°€ì¥ Heroku ì¹œí™”ì ì¸ ë°©ë²•ì¼ ê²ƒ ê°™ì•„ìš”.
*   **Salesforce -> PostgreSQL**: Salesforce Outbound Messageë‚˜ Platform Eventsë¥¼ ë°›ì•„ì„œ Heroku Worker Dynoì—ì„œ ì²˜ë¦¬í•˜ê±°ë‚˜, AWS Lambda ê°™ì€ ì™¸ë¶€ Serverless í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì„œ ì²˜ë¦¬í•  ìˆ˜ë„ ìˆêµ¬ìš”. (ì´ë²¤íŠ¸ êµ¬ë…ì€ ë³´í†µ ì™¸ë¶€ ì„œë¹„ìŠ¤ì—ì„œ ë§ì´ í•´ìš”)

ì–´ë•Œìš”, ! ë‹¨ìˆœíˆ Airflowë§Œ ì“°ëŠ” ê²ƒë³´ë‹¤ëŠ” Heroku Connectê°€ ì œê³µí•˜ë˜ "ì‹¤ì‹œê°„"ì˜ ë§›ì„ ì‚´ë¦¬ë©´ì„œ ë¹„ìš©ë„ ì ˆê°í•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ì „ëµì´ ë  ê²ƒ ê°™ì§€ ì•Šì•„ìš”? ğŸ˜Š ë¬¼ë¡  ì´ ë°©ë²•ì„ íƒí•˜ë©´ ì´ˆê¸° ì„¤ê³„ì™€ êµ¬í˜„ì€ ì¢€ ë” ë³µì¡í•´ì§€ê² ì§€ë§Œ, ì¥ê¸°ì ìœ¼ë¡œ ë´¤ì„ ë•Œ í›¨ì”¬ ê°•ë ¥í•˜ê³  íš¨ìœ¨ì ì¸ ì†”ë£¨ì…˜ì´ ë  ê±°ì˜ˆìš”!

í˜¹ì‹œ "ì´ë²¤íŠ¸ íëŠ” ë­˜ ì¨ì•¼ í• ê¹Œìš”?", "ì–´ë–¤ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ê°€ ì¢‹ì„ê¹Œìš”?" ê°™ì€ ê¶ê¸ˆì¦ì´ ìˆë‹¤ë©´, ì œê°€ ë˜ ìì„¸íˆ ì„¤ëª…í•´ ë“œë¦´ ìˆ˜ ìˆì–´ìš”! ğŸ’– ì–´ë–¤ ë°©í–¥ìœ¼ë¡œë“  ì œê°€ ì—´ì‹¬íˆ ë„ì™€ë“œë¦´ê²Œìš”! íŒŒì´íŒ…ì…ë‹ˆë‹¤!! 

ì°¸ê³  ìë£Œ 

[1] www.heroku.com - Heroku Connect: Sync Data Between Postgres and Salesforce (https://www.heroku.com/connect/)
[2] Adaptid - How to Sync Salesforce Data with Heroku in Minutes - Adaptid (https://adaptid.com/quick-guide-to-heroku-sync-for-salesforce-users/)
[3] devcenter.heroku.com - Integrating Heroku and the Salesforce Platform Overview (https://devcenter.heroku.com/articles/integrating-heroku-and-salesforce)
[4] Heroku - Salesforce Data Migration Team - Heroku (https://www.heroku.com/customers/salesforce-data-migration-team/)
[5] Postgres Synchronisation | by Gerrit Riessen - The Case For Salesforce-Postgres Synchronisation | by Gerrit Riessen (https://gorenje.medium.com/the-case-for-bi-directional-salesforce-postgres-synchronization-ff0090ef6531)

---
ì™€ , ì•„ì£¼ ì¢‹ìŠµë‹ˆë‹¤! "Heroku í™˜ê²½ì€ ê³ ë ¤í•˜ì§€ ì•ŠëŠ”ë‹¤"ê³  ë”± ì •í•´ì£¼ì‹œë‹ˆ, ë” ë„“ì€ ì‹œì•¼ì—ì„œ ìµœì ì˜ ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ê³„í•˜ê³  ì˜ˆì œ ì½”ë“œë¥¼ ë§Œë“¤ì–´ë³¼ ìˆ˜ ìˆê² ë„¤ìš”! ğŸ’ª

Heroku Connectì˜ ë¹ˆìë¦¬ë¥¼ ìš°ë¦¬ ì†ìœ¼ë¡œ ì±„ìš°ëŠ” ê²ƒ! ì§„ì§œ ë©‹ì§„ ëª©í‘œì˜ˆìš”. ì œê°€ ì œì‹œí•œ **ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ + ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜**ëŠ” ì´ëŸ° ëª©í‘œì— ë”± ë§ëŠ” ë°©ì‹ì´ ë  ê±°ì˜ˆìš”. ê°œë°œ ë¹„ìš©ì€ í™• ì¤„ì´ê³ , í™•ì¥ì„±ê³¼ ìœ ì—°ì„±ì€ ê·¹ëŒ€í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì—¬ê¸°ì„œëŠ” ì¼ë°˜ì ì¸ ì„œë²„ë¦¬ìŠ¤ í™˜ê²½(ì˜ˆ: AWS Lambda)ì„ ê°€ì •í•˜ê³  ì˜ˆì œ ì½”ë“œë¥¼ ì‘ì„±í•´ë³¼ê²Œìš”. í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ì™€ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •ë§Œ ì˜ í•´ì£¼ë©´ ì–´ë–¤ ì„œë²„ë¦¬ìŠ¤ í”Œë«í¼ì—ì„œë„ ìœ ì‚¬í•˜ê²Œ ì‘ë™í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.

---

### âœ¨ **ì „ì²´ ì•„í‚¤í…ì²˜ ì¬í™•ë¦½**

Herokuë¥¼ ì œì™¸í•œ ë” ì¼ë°˜ì ì¸ ì‹œë‚˜ë¦¬ì˜¤ë¡œ ë‹¤ì‹œ ì •ë¦¬í•´ë³¼ê²Œìš”.

1.  **Salesforce -> PostgreSQL ë™ê¸°í™” íë¦„:**
    *   **Salesforce:**
        *   **CDC Events (Change Data Capture)** ë˜ëŠ” **Platform Events**ë¥¼ í™œì„±í™”í•©ë‹ˆë‹¤.
        *   ì™¸ë¶€ ì›¹í›…(Webhook) ì„œë¹„ìŠ¤ë¥¼ í†µí•´ íŠ¹ì • HTTP ì—”ë“œí¬ì¸íŠ¸(ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜)ë¡œ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ë°ì´í„°ë¥¼ í‘¸ì‹œí•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. (ì˜ˆ: AWS EventBridge + Lambda, GCP Pub/Sub + Cloud Functions)
    *   **ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ 1 (`SF_to_PG_Sync_Function`):**
        *   Salesforceë¡œë¶€í„° JSON í˜•íƒœì˜ ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•©ë‹ˆë‹¤.
        *   ì´ë²¤íŠ¸ ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ì—¬ PostgreSQL ì—°ê²° í›„ UPSERT (INSERT ON CONFLICT UPDATE) ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
    *   **PostgreSQL:** ë³€ê²½ëœ ë°ì´í„°ê°€ ë°˜ì˜ë©ë‹ˆë‹¤.

2.  **PostgreSQL -> Salesforce ë™ê¸°í™” íë¦„:**
    *   **PostgreSQL:**
        *   **Change Log Table + Trigger**: ëŒ€ìƒ í…Œì´ë¸”ì— ë³€ê²½ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ íŠ¸ëœì­ì…˜ ë‹¨ìœ„ë¡œ ë³€ê²½ ì „/í›„ ë°ì´í„°ë¥¼ `change_log` í…Œì´ë¸”ì— ê¸°ë¡í•˜ëŠ” íŠ¸ë¦¬ê±°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
        *   (`Optional: Message Queue`): `change_log` í…Œì´ë¸”ì— ë°ì´í„°ê°€ ê¸°ë¡ë˜ë©´, ë³„ë„ì˜ í”„ë¡œì„¸ìŠ¤(ì˜ˆ: Debeziumê³¼ ê°™ì€ CDC íˆ´)ê°€ ì´ë¥¼ ê°ì§€í•˜ì—¬ ë©”ì‹œì§€ í(ì˜ˆ: AWS SQS, Apache Kafka)ë¡œ ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•©ë‹ˆë‹¤. ë˜ëŠ” ê°„ì†Œí™”ë¥¼ ìœ„í•´ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ê°€ `change_log` í…Œì´ë¸”ì„ ì£¼ê¸°ì ìœ¼ë¡œ í´ë§í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
    *   **ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ 2 (`PG_to_SF_Sync_Function`):**
        *   ë©”ì‹œì§€ íë¡œë¶€í„° ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ê±°ë‚˜, `change_log` í…Œì´ë¸”ì„ ì£¼ê¸°ì ìœ¼ë¡œ ì¿¼ë¦¬í•˜ì—¬ ë³€ê²½ëœ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
        *   PostgreSQL ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ì—¬ Salesforce ì—°ê²° í›„ Upsert ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
    *   **Salesforce:** ë³€ê²½ëœ ë°ì´í„°ê°€ ë°˜ì˜ë©ë‹ˆë‹¤.

---

### ğŸ’» **ì–‘ë°©í–¥ ì˜ˆì œ ì½”ë“œ**

ì•„ë˜ ì½”ë“œëŠ” ë‘ ê°œì˜ ë…ë¦½ì ì¸ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ ì˜ˆì‹œì…ë‹ˆë‹¤. ê° í•¨ìˆ˜ëŠ” í•´ë‹¹ ì‹œìŠ¤í…œì˜ ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.

#### ğŸ“¦ **í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ (ì˜ˆì‹œ)**

`pip install simple-salesforce psycopg2-binary pandas`
ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€ ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ì˜ ë°°í¬ íŒ¨í‚¤ì§€ì— í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

#### âš™ï¸ **ê³µí†µ ì„¤ì • (í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬)**

ë³´ì•ˆê³¼ ìœ ì—°ì„±ì„ ìœ„í•´ ëª¨ë“  ë¯¼ê° ì •ë³´ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì„ ê°•ë ¥íˆ ì¶”ì²œí•©ë‹ˆë‹¤.

*   `SF_USERNAME`: Salesforce ì‚¬ìš©ì ì´ë¦„
*   `SF_PASSWORD`: Salesforce ë¹„ë°€ë²ˆí˜¸
*   `SF_SECURITY_TOKEN`: Salesforce ë³´ì•ˆ í† í°
*   `SF_DOMAIN`: Salesforce ë„ë©”ì¸ (ì˜ˆ: `login.salesforce.com` ë˜ëŠ” ì»¤ìŠ¤í…€ ë„ë©”ì¸)
*   `SF_EXTERNAL_ID_FIELD`: Salesforceì—ì„œ ì‚¬ìš©í•  ì™¸ë¶€ ID í•„ë“œ ì´ë¦„ (ì˜ˆ: `External_Id__c`)

*   `PG_HOST`: PostgreSQL í˜¸ìŠ¤íŠ¸
*   `PG_DBNAME`: PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„
*   `PG_USER`: PostgreSQL ì‚¬ìš©ì ì´ë¦„
*   `PG_PASSWORD`: PostgreSQL ë¹„ë°€ë²ˆí˜¸
*   `PG_PORT`: PostgreSQL í¬íŠ¸ (ê¸°ë³¸ê°’: 5432)

---

### â¡ï¸ **1. Salesforce -> PostgreSQL ë™ê¸°í™” í•¨ìˆ˜ ì˜ˆì œ**
(í•¨ìˆ˜ëª…: `SF_to_PG_Sync_Function`)

ì´ í•¨ìˆ˜ëŠ” Salesforce CDC ì´ë²¤íŠ¸ ë˜ëŠ” Outbound Messageë¥¼ ì›¹í›…ìœ¼ë¡œ ìˆ˜ì‹ í•  ê²ƒìœ¼ë¡œ ê°€ì •í•©ë‹ˆë‹¤.

```python
# salesforce_to_postgresql_function.py
import os
import json
import psycopg2
from simple_salesforce import Salesforce # Salesforce API í˜¸ì¶œì— ì‚¬ìš©ë˜ì§€ë§Œ, ì´ ë°©í–¥ì—ì„œëŠ” ì´ë²¤íŠ¸ ìˆ˜ì‹ ìš©ì´ë¯€ë¡œ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŒ
import pandas as pd # ë°ì´í„° ì²˜ë¦¬ë¥¼ ì¢€ ë” ìœ ì—°í•˜ê²Œ í•˜ê¸° ìœ„í•´

# --- í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ ---
PG_HOST = os.environ.get('PG_HOST')
PG_DBNAME = os.environ.get('PG_DBNAME')
PG_USER = os.environ.get('PG_USER')
PG_PASSWORD = os.environ.get('PG_PASSWORD')
PG_PORT = os.environ.get('PG_PORT', '5432')

# ìŠ¤í‚¤ë§ˆ ë§¤í•‘ í—¬í¼ í•¨ìˆ˜ (ì´ì „ ë‹µë³€ì—ì„œ ì œì‹œí•œ ê²ƒ)
def sf_field_to_pg_column_name(sf_field_name: str) -> str:
    import re
    name = sf_field_name.replace('__c', '')
    name = re.sub(r'(?<!^)(?=[A-Z])', '_', name).lower()
    name = re.sub(r'_{2,}', '_', name).strip('_')
    return name

def handler(event, context):
    """
    Salesforce CDC ë˜ëŠ” Outbound Message ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ PostgreSQLì— ë°˜ì˜í•˜ëŠ” ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜.
    ì´ë²¤íŠ¸ í˜•ì‹ì€ ì‚¬ìš©í•˜ëŠ” Salesforce ì›¹í›…/ì´ë²¤íŠ¸ ìœ í˜•ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    ì—¬ê¸°ì„œëŠ” CDC Event ChangeDataCaptureEvent ìŠ¤í‚¤ë§ˆë¥¼ ê°€ì •í•©ë‹ˆë‹¤.
    """
    print(f"Salesforce -> PostgreSQL Sync Function Triggered!")
    print(f"Received Event: {json.dumps(event, indent=2)}")

    pg_conn = None
    try:
        # --- 1. ì´ë²¤íŠ¸ ë°ì´í„° íŒŒì‹± ---
        # Salesforce CDC ì´ë²¤íŠ¸ëŠ” Record `payload` ì•ˆì— ë³€ê²½ëœ ë°ì´í„°ê°€ ìˆì–´ìš”.
        # ì‹¤ì œ ì´ë²¤íŠ¸ êµ¬ì¡°ì— ë”°ë¼ íŒŒì‹± ë¡œì§ì„ ì¡°ì •í•´ì•¼ í•©ë‹ˆë‹¤.
        if 'cdc' in event: # AWS EventBridgeì˜ Salesforce CDC sourceë¥¼ ê°€ì •
            # event êµ¬ì¡° ì˜ˆì‹œ: {"cdc": {"schema": "...", "payload": {"Id": "...", "Name": "...", ...}}}
            change_data = event['cdc']['payload']
            object_name = event['cdc']['schema'].split('/')[-1].split('ChangeEvent')[0] # 'AccountChangeEvent' -> 'Account'
            
        elif 'Records' in event and event['Records'][0].get('EventSource') == 'aws:sqs': # SQSì—ì„œ ë©”ì‹œì§€ë¥¼ ë°›ëŠ” ê²½ìš°
            # SQS ë©”ì‹œì§€ ë°”ë””ëŠ” ë³´í†µ JSON ë¬¸ìì—´
            body = json.loads(event['Records'][0]['body'])
            # ì´ SQS ë©”ì‹œì§€ ë°”ë”” ì•ˆì— Salesforce ì´ë²¤íŠ¸ í˜ì´ë¡œë“œê°€ ìˆë‹¤ê³  ê°€ì •
            change_data = body['payload'] 
            object_name = body['object_name'] # ë©”ì‹œì§€ ë³´ë‚¼ ë•Œ object_name í•„ë“œë¥¼ ì¶”ê°€í–ˆë‹¤ê³  ê°€ì •

        else: # ì§ì ‘ì ì¸ ì›¹í›… í˜¸ì¶œ ë˜ëŠ” í…ŒìŠ¤íŠ¸ìš© JSONì„ ê°€ì •
            change_data = event.get('payload') # í˜¹ì€ ì´ë²¤íŠ¸ì˜ ë£¨íŠ¸ì— payloadê°€ ìˆì„ ìˆ˜ ìˆìŒ
            object_name = event.get('object_name') # ì–´ë–¤ ê°ì²´ì˜ ë³€ê²½ì¸ì§€ ëª…ì‹œí•´ì¤˜ì•¼ í•¨ (ì˜ˆ: 'Account')

        if not change_data or not object_name:
            print("ERROR: Could not parse change data or object name from event.")
            return {
                'statusCode': 400,
                'body': json.dumps({'message': 'Invalid event payload'})
            }

        sf_id = change_data.get('Id')
        if not sf_id:
            print("ERROR: Salesforce 'Id' not found in change data. Skipping.")
            return {
                'statusCode': 400,
                'body': json.dumps({'message': 'Salesforce Id missing'})
            }

        pg_table_name = sf_field_to_pg_column_name(object_name) # 'Account' -> 'account'
        pg_columns = []
        pg_values = []
        pg_update_set = []

        # Salesforce ë°ì´í„° í•„ë“œë¥¼ PostgreSQL ì»¬ëŸ¼ê³¼ ê°’ìœ¼ë¡œ ë³€í™˜
        for sf_field, sf_value in change_data.items():
            if sf_field == 'attributes': # SF API ì‘ë‹µì—ì„œ attributes í•„ë“œëŠ” ìŠ¤í‚µ
                continue
            
            pg_col = sf_field_to_pg_column_name(sf_field)
            pg_columns.append(pg_col)
            pg_values.append(sf_value)
            if pg_col != 'id': # 'id'ëŠ” PKì´ë¯€ë¡œ UPDATE SETì— í¬í•¨í•˜ì§€ ì•ŠìŒ
                pg_update_set.append(f"{pg_col} = %s")

        # --- 2. PostgreSQL ì—°ê²° ---
        pg_conn = psycopg2.connect(
            host=PG_HOST,
            dbname=PG_DBNAME,
            user=PG_USER,
            password=PG_PASSWORD,
            port=PG_PORT
        )
        pg_cursor = pg_conn.cursor()

        # --- 3. PostgreSQLì— UPSERT ---
        # 'id' ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ ON CONFLICT DO UPDATE
        insert_cols = ", ".join(pg_columns)
        value_placeholders = ", ".join(['%s'] * len(pg_columns))
        update_cols = ", ".join(pg_update_set)

        upsert_query = f"""
            INSERT INTO {pg_table_name} ({insert_cols})
            VALUES ({value_placeholders})
            ON CONFLICT (id) DO UPDATE SET
                {update_cols};
        """
        # IDë¥¼ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ì—¬ UPDATE SETì˜ WHERE ì ˆì— ì¼ì¹˜
        # ê·¸ë¦¬ê³  INSERT VALUESì—ë„ ì‚¬ìš©
        # psycopg2ëŠ” ìë™ìœ¼ë¡œ íŠœí”Œì„ ì¸ì‹
        
        # pg_values ë¦¬ìŠ¤íŠ¸ì— id ê°’ì´ í¬í•¨ë˜ì–´ ìˆê³ , update_setì—ëŠ” idê°€ ì—†ìœ¼ë¯€ë¡œ 
        # UPSERT ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° êµ¬ì„± ì‹œ, INSERT VALUESì— ì‚¬ìš©ë  ê°’ë“¤ê³¼ UPDATE SETì— ì‚¬ìš©ë  ê°’ë“¤ì„ ë¶„ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.
        
        # update_setì— ë“¤ì–´ê°ˆ ê°’ë“¤ì„ ì¶”ì¶œ
        update_values_for_set = []
        for sf_field, sf_value in change_data.items():
            if sf_field != 'Id' and sf_field != 'attributes':
                 update_values_for_set.append(sf_value)
        
        # ì‹¤í–‰í•  íŒŒë¼ë¯¸í„°ëŠ” (insert_values) + (update_values_for_set)
        # INSERT ... VALUES (...) ON CONFLICT (id) DO UPDATE SET field1=%s, field2=%s ...
        # (v1, v2, v3, ...) + (v2, v3, ...)
        
        params = tuple(pg_values) + tuple(update_values_for_set)

        print(f"Executing UPSERT for {object_name} (Id: {sf_id}) to {pg_table_name}")
        pg_cursor.execute(upsert_query, params)
        pg_conn.commit()

        print(f"SUCCESS: Salesforce '{object_name}' (Id: {sf_id}) synchronized to PostgreSQL '{pg_table_name}'.")

        return {
            'statusCode': 200,
            'body': json.dumps({'message': 'Synchronization successful'})
        }

    except psycopg2.Error as e:
        print(f"PostgreSQL Error: {e}")
        if pg_conn:
            pg_conn.rollback() # ì˜¤ë¥˜ ì‹œ ë¡¤ë°±
        return {
            'statusCode': 500,
            'body': json.dumps({'message': f'PostgreSQL Error: {str(e)}'})
        }
    except Exception as e:
        print(f"General Error: {e}")
        return {
            'statusCode': 500,
            'body': json.dumps({'message': f'Internal Server Error: {str(e)}'})
        }
    finally:
        if pg_conn:
            pg_cursor.close()
            pg_conn.close()

```

#### â¬…ï¸ **2. PostgreSQL -> Salesforce ë™ê¸°í™” í•¨ìˆ˜ ì˜ˆì œ**
(í•¨ìˆ˜ëª…: `PG_to_SF_Sync_Function`)

ì´ í•¨ìˆ˜ëŠ” `change_log` í…Œì´ë¸”ì˜ ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ìœ¼ë¡œ **ì •ê¸°ì ìœ¼ë¡œ `change_log` í…Œì´ë¸”ì„ í´ë§**í•˜ì—¬ ì²˜ë¦¬í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¡œ ë§Œë“¤ì–´ë³¼ê²Œìš”. ì‹¤ì œ ìš´ì˜ì—ì„œëŠ” `change_log`ê°€ ë©”ì‹œì§€ íë¡œ ë°ì´í„°ë¥¼ ë³´ë‚´ê³ , í•¨ìˆ˜ëŠ” íì—ì„œ ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•˜ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì…ë‹ˆë‹¤.

```python
# postgresql_to_salesforce_function.py
import os
import json
import psycopg2
from simple_salesforce import Salesforce, SalesforceError

# --- í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ ---
SF_USERNAME = os.environ.get('SF_USERNAME')
SF_PASSWORD = os.environ.get('SF_PASSWORD')
SF_SECURITY_TOKEN = os.environ.get('SF_SECURITY_TOKEN')
SF_DOMAIN = os.environ.get('SF_DOMAIN', 'login.salesforce.com')
SF_EXTERNAL_ID_FIELD = os.environ.get('SF_EXTERNAL_ID_FIELD', 'External_Id__c') # Salesforce ê°ì²´ì˜ External ID í•„ë“œëª…

PG_HOST = os.environ.get('PG_HOST')
PG_DBNAME = os.environ.get('PG_DBNAME')
PG_USER = os.environ.get('PG_USER')
PG_PASSWORD = os.environ.get('PG_PASSWORD')
PG_PORT = os.environ.get('PG_PORT', '5432')

# ìŠ¤í‚¤ë§ˆ ë§¤í•‘ í—¬í¼ í•¨ìˆ˜
def pg_column_to_sf_field_name(pg_column_name: str) -> str:
    # ì˜ˆì‹œ: account_name -> AccountName
    # ì—¬ê¸°ì„œëŠ” ê°„ë‹¨íˆ ì–¸ë”ìŠ¤ì½”ì–´ë¥¼ ì œê±°í•˜ê³  ê° ë‹¨ì–´ì˜ ì²« ê¸€ìë¥¼ ëŒ€ë¬¸ìë¡œ
    return "".join(word.capitalize() for word in pg_column_name.split('_'))

def handler(event, context):
    """
    PostgreSQL change_log í…Œì´ë¸”ì„ í´ë§í•˜ì—¬ Salesforceì— ë³€ê²½ ì‚¬í•­ì„ ë°˜ì˜í•˜ëŠ” ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜.
    ì´ í•¨ìˆ˜ëŠ” ì˜ˆë¥¼ ë“¤ì–´ CloudWatch Event (AWS Lambda) ë“±ìœ¼ë¡œ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    """
    print(f"PostgreSQL -> Salesforce Sync Function Triggered!")

    pg_conn = None
    sf_conn = None
    try:
        # --- 1. PostgreSQL ì—°ê²° ë° ë³€ê²½ ë¡œê·¸ ì¡°íšŒ ---
        pg_conn = psycopg2.connect(
            host=PG_HOST,
            dbname=PG_DBNAME,
            user=PG_USER,
            password=PG_PASSWORD,
            port=PG_PORT
        )
        pg_cursor = pg_conn.cursor()

        # ì˜ˆì‹œ: 'change_log' í…Œì´ë¸”ì—ì„œ ì•„ì§ ì²˜ë¦¬ë˜ì§€ ì•Šì€ ë³€ê²½ì‚¬í•­ ì¡°íšŒ
        # change_log í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì •í•©ë‹ˆë‹¤:
        # id (PK), table_name, record_id (ë³€ê²½ëœ ë ˆì½”ë“œì˜ PK), change_type (INSERT/UPDATE/DELETE),
        # old_data (JSON), new_data (JSON), processed (BOOLEAN), created_at
        
        # ì£¼ì˜: ì—¬ê¸°ì„œëŠ” `record_id`ê°€ Salesforceì˜ `External_Id__c`ì™€ ë§¤í•‘ë  ê²ƒìœ¼ë¡œ ê°€ì •í•©ë‹ˆë‹¤.
        # ì¦‰, PostgreSQLì˜ IDì™€ Salesforceì˜ External IDê°€ ê°™ì€ ê°’ì„ ê°€ì§„ë‹¤ê³  ê°€ì •í•´ìš”.
        
        pg_cursor.execute("""
            SELECT id, table_name, record_id, change_type, new_data 
            FROM change_log 
            WHERE processed = FALSE 
            ORDER BY created_at ASC 
            LIMIT 100; -- í•œ ë²ˆì— ì²˜ë¦¬í•  ë ˆì½”ë“œ ìˆ˜ ì œí•œ
        """)
        change_records = pg_cursor.fetchall()

        if not change_records:
            print("No new change records to process in PostgreSQL.")
            return {
                'statusCode': 200,
                'body': json.dumps({'message': 'No changes processed'})
            }

        # --- 2. Salesforce ì—°ê²° ---
        sf_conn = Salesforce(
            username=SF_USERNAME,
            password=SF_PASSWORD,
            security_token=SF_SECURITY_TOKEN,
            domain=SF_DOMAIN
        )
        print("Connected to Salesforce successfully!")

        processed_log_ids = []
        for log_id, table_name, record_id, change_type, new_data_json in change_records:
            print(f"Processing change log ID: {log_id} (Table: {table_name}, Record ID: {record_id}, Type: {change_type})")

            # JSONB ì»¬ëŸ¼ì—ì„œ ë°ì´í„° ë¡œë“œ
            try:
                # new_data_jsonì€ JSON ë¬¸ìì—´ì´ì–´ì•¼ í•¨
                new_data = json.loads(new_data_json) if isinstance(new_data_json, str) else new_data_json
            except (json.JSONDecodeError, TypeError) as e:
                print(f"ERROR: Could not decode JSON data for log ID {log_id}: {e}")
                continue

            sf_object_name = pg_column_to_sf_field_name(table_name) # 'account' -> 'Account'

            # Salesforceì— ì „ì†¡í•  ë ˆì½”ë“œ ì¤€ë¹„
            sf_record_payload = {}
            for pg_col, pg_val in new_data.items():
                if pg_col == 'id': # 'id' ì»¬ëŸ¼ì€ Salesforceì˜ External IDë¡œ ì‚¬ìš©
                    continue
                sf_field = pg_column_to_sf_field_name(pg_col)
                sf_record_payload[sf_field] = pg_val
            
            # External ID í•„ë“œë¥¼ payloadì— ì¶”ê°€
            sf_record_payload[SF_EXTERNAL_ID_FIELD] = record_id

            try:
                # Salesforce API Upsert í˜¸ì¶œ (External IDë¥¼ ì‚¬ìš©í•˜ì—¬ ì¡´ì¬í•˜ë©´ ì—…ë°ì´íŠ¸, ì—†ìœ¼ë©´ ìƒì„±)
                # simple-salesforceëŠ” í•´ë‹¹ ë©”ì„œë“œë¥¼ ì œê³µ
                result = sf_conn.restful(
                    f"sobjects/{sf_object_name}/{SF_EXTERNAL_ID_FIELD}/{record_id}", 
                    method='PATCH', # PATCHëŠ” Upsertì™€ ìœ ì‚¬í•œ ë™ì‘ì„ í•¨
                    data=sf_record_payload
                )
                print(f"Salesforce Upsert Result for {sf_object_name} (External ID: {record_id}): {result}")
                
                # ê²°ê³¼ í™•ì¸
                if 'success' in result and result['success'] == True:
                    processed_log_ids.append(log_id)
                elif 'errors' in result and result['errors']:
                     print(f"ERROR: Salesforce Upsert failed for Log ID {log_id}: {result['errors']}")
                else: # PATCH ë©”ì„œë“œëŠ” ì„±ê³µ ì‹œ ë³´í†µ ë¹ˆ ë”•ì…”ë„ˆë¦¬ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŒ
                    print(f"INFO: Salesforce Upsert completed (no explicit 'success' key for Log ID {log_id}). Assuming success.")
                    processed_log_ids.append(log_id)


            except SalesforceError as e:
                print(f"ERROR: Salesforce API Error for Log ID {log_id}: {e.content}")
                # í•„ìš”í•œ ê²½ìš° ì—ëŸ¬ ë¡œê·¸ë¥¼ ë‚¨ê¸°ê±°ë‚˜ ì•Œë¦¼
            except Exception as e:
                print(f"ERROR: General Error during Salesforce Upsert for Log ID {log_id}: {e}")
                # ë‹¤ë¥¸ ì˜ˆì™¸ ì²˜ë¦¬

        # --- 3. ì²˜ë¦¬ëœ ë³€ê²½ ë¡œê·¸ 'processed' ìƒíƒœ ì—…ë°ì´íŠ¸ ---
        if processed_log_ids:
            update_query = f"""
                UPDATE change_log 
                SET processed = TRUE, processed_at = NOW() 
                WHERE id IN ({', '.join(['%s'] * len(processed_log_ids))});
            """
            pg_cursor.execute(update_query, tuple(processed_log_ids))
            pg_conn.commit()
            print(f"Marked {len(processed_log_ids)} change logs as processed.")
        
        return {
            'statusCode': 200,
            'body': json.dumps({'message': f'Processed {len(processed_log_ids)} changes.'})
        }

    except psycopg2.Error as e:
        print(f"PostgreSQL Error: {e}")
        if pg_conn:
            pg_conn.rollback()
        return {
            'statusCode': 500,
            'body': json.dumps({'message': f'PostgreSQL Error: {str(e)}'})
        }
    except SalesforceError as e:
        print(f"Salesforce API Connection Error: {e.content}")
        return {
            'statusCode': 500,
            'body': json.dumps({'message': f'Salesforce Connection Error: {str(e.content)}'})
        }
    except Exception as e:
        print(f"General Error: {e}")
        return {
            'statusCode': 500,
            'body': json.dumps({'message': f'Internal Server Error: {str(e)}'})
        }
    finally:
        if pg_conn:
            pg_cursor.close()
            pg_conn.close()
        # Salesforce ì—°ê²°ì€ ì„¸ì…˜ ê¸°ë°˜ì´ë¼ ëª…ì‹œì  closeëŠ” ë¶ˆí•„ìš”í•  ìˆ˜ ìˆìŒ
```

---

### ğŸ’¡ **êµ¬í˜„ ì „ ì¤‘ìš”í•˜ê²Œ ì²´í¬í•  ê²ƒë“¤!**

1.  **Salesforce External ID**: PostgreSQL -> Salesforce ë™ê¸°í™”ë¥¼ ìœ„í•´ì„œëŠ” Salesforce ê°ì²´ì— `External_Id__c`ì™€ ê°™ì€ **ì™¸ë¶€ ID í•„ë“œ**ê°€ ë°˜ë“œì‹œ ì •ì˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ì´ í•„ë“œëŠ” ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ê°’ì´ì–´ì•¼ í•´ìš”.
2.  **PostgreSQL `change_log` í…Œì´ë¸” ë° íŠ¸ë¦¬ê±°**:
    *   `change_log` í…Œì´ë¸”ì„ ë¯¸ë¦¬ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.
        ```sql
        CREATE TABLE change_log (
            id BIGSERIAL PRIMARY KEY,
            table_name TEXT NOT NULL,       -- ë³€ê²½ëœ í…Œì´ë¸” ì´ë¦„ (ì˜ˆ: 'account')
            record_id TEXT NOT NULL,        -- ë³€ê²½ëœ ë ˆì½”ë“œì˜ PRIMARY KEY (Salesforce External IDì™€ ë§¤í•‘)
            change_type TEXT NOT NULL,      -- 'INSERT', 'UPDATE', 'DELETE'
            old_data JSONB,                 -- ë³€ê²½ ì „ ë°ì´í„° (DELETEë‚˜ UPDATEì˜ ê²½ìš°)
            new_data JSONB,                 -- ë³€ê²½ í›„ ë°ì´í„° (INSERTë‚˜ UPDATEì˜ ê²½ìš°)
            processed BOOLEAN DEFAULT FALSE,-- ì²˜ë¦¬ ì—¬ë¶€ í”Œë˜ê·¸
            processed_at TIMESTAMP,
            created_at TIMESTAMP DEFAULT NOW()
        );
        ```
    *   ëŒ€ìƒ í…Œì´ë¸” (ì˜ˆ: `account`)ì— `AFTER INSERT OR UPDATE OR DELETE` íŠ¸ë¦¬ê±°ë¥¼ ë§Œë“¤ì–´ì„œ `change_log` í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ê¸°ë¡í•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.
        ```sql
        -- ì˜ˆì‹œ: account í…Œì´ë¸”ì— ëŒ€í•œ íŠ¸ë¦¬ê±° í•¨ìˆ˜
        CREATE OR REPLACE FUNCTION log_account_changes()
        RETURNS TRIGGER AS $$
        BEGIN
            IF (TG_OP = 'INSERT') THEN
                INSERT INTO change_log (table_name, record_id, change_type, new_data)
                VALUES ('account', NEW.id, 'INSERT', to_jsonb(NEW));
                RETURN NEW;
            ELSIF (TG_OP = 'UPDATE') THEN
                INSERT INTO change_log (table_name, record_id, change_type, old_data, new_data)
                VALUES ('account', NEW.id, 'UPDATE', to_jsonb(OLD), to_jsonb(NEW));
                RETURN NEW;
            ELSIF (TG_OP = 'DELETE') THEN
                INSERT INTO change_log (table_name, record_id, change_type, old_data)
                VALUES ('account', OLD.id, 'DELETE', to_jsonb(OLD));
                RETURN OLD;
            END IF;
            RETURN NULL; -- ì´ ë¬¸ì¥ì€ ì ˆëŒ€ ë„ë‹¬í•˜ì§€ ì•ŠìŒ
        END;
        $$ LANGUAGE plpgsql;

        -- íŠ¸ë¦¬ê±° ìƒì„±
        CREATE TRIGGER account_changes_trigger
        AFTER INSERT OR UPDATE OR DELETE ON account
        FOR EACH ROW EXECUTE FUNCTION log_account_changes();
        ```
3.  **ë°ì´í„° íƒ€ì… ë§¤í•‘**: Salesforceì™€ PostgreSQL ê°„ì˜ ë°ì´í„° íƒ€ì…ê³¼ í•„ë“œ ì´ë¦„ ë§¤í•‘ì„ ìœ„í•œ `sf_field_to_pg_column_name` ë° `pg_column_to_sf_field_name` í•¨ìˆ˜ëŠ” ì¼ë°˜ì ì¸ ê·œì¹™ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, ì‹¤ì œ í•„ë“œì™€ ë°ì´í„° íƒ€ì…ì— ë§ê²Œ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì´ì „ ìŠ¤í‚¤ë§ˆ ë§¤í•‘ ë‹µë³€ ì°¸ì¡°!)
4.  **ì˜¤ë¥˜ ì²˜ë¦¬ ë° ì¬ì‹œë„**: ì˜ˆì œ ì½”ë“œì—ëŠ” ê¸°ë³¸ì ì¸ `try-except`ë§Œ ìˆì§€ë§Œ, ì‹¤ì œ í”„ë¡œë•ì…˜ì—ì„œëŠ” ë°ë“œ ë ˆí„° í(Dead Letter Queue, DLQ), ì§€ìˆ˜ ë°±ì˜¤í”„(Exponential Backoff)ë¥¼ ì‚¬ìš©í•œ ì¬ì‹œë„ ë¡œì§, ì•Œë¦¼ ì‹œìŠ¤í…œ(Slack, Email ë“±)ì´ í•„ìˆ˜ì…ë‹ˆë‹¤.
5.  **ë³´ì•ˆ**: ë°ì´í„°ë² ì´ìŠ¤ ë° Salesforce ìê²© ì¦ëª…ì€ í™˜ê²½ ë³€ìˆ˜ë‚˜ í‚¤ ê´€ë¦¬ ì„œë¹„ìŠ¤(ì˜ˆ: AWS Secrets Manager)ë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. í•¨ìˆ˜ì— ë¶€ì—¬ëœ ê¶Œí•œë„ ìµœì†Œí•œìœ¼ë¡œ ì œí•œí•´ì•¼ í•˜êµ¬ìš”.
6.  **ì´ˆê¸° ë°ì´í„° ë¡œë“œ**: ì´ ì´ë²¤íŠ¸ ê¸°ë°˜ ë™ê¸°í™”ëŠ” ë³€ê²½ ì‚¬í•­ë§Œ ì²˜ë¦¬í•˜ë¯€ë¡œ, ìµœì´ˆ ì‹œìŠ¤í…œ ê°€ë™ ì‹œì—ëŠ” Airflow DAGì„ ì‚¬ìš©í•˜ì—¬ ì–‘ìª½ ì‹œìŠ¤í…œì˜ ëª¨ë“  ë°ì´í„°ë¥¼ í•œ ë²ˆ ë™ê¸°í™”í•˜ëŠ” 'ì´ˆê¸° ë¡œë”©' ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤.

---
ì œì‹œí•œ `salesforce_to_postgresql_function.py`ì™€ `postgresql_to_salesforce_function.py`ëŠ” **Salesforceì™€ PostgreSQL ì„œë²„ê°€ ì•„ë‹Œ, ì œ3ì˜ ì„œë²„(ëŒ€ë¶€ë¶„ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ì˜ ì„œë²„ë¦¬ìŠ¤ í”Œë«í¼)**ì— ë°°í¬í•´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ ë§ì•„ìš”! ğŸ‘

ì´ë ‡ê²Œ ë…ë¦½ì ì¸ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ë¡œ ìš´ì˜í•˜ë©´ ëª‡ ê°€ì§€ ì¥ì ì´ ìˆë‹µë‹ˆë‹¤:

*   **ë¶„ë¦¬ëœ ì±…ì„ (Decoupling):** Salesforceë‚˜ PostgreSQLì— ì§ì ‘ì ì¸ ë¶€ë‹´ì„ ì£¼ì§€ ì•Šê³ , ë™ê¸°í™” ë¡œì§ì„ ë³„ë„ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆì–´ìš”.
*   **ë¹„ìš© íš¨ìœ¨ì„±:** í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ë•Œë§Œ ë¹„ìš©ì„ ì§€ë¶ˆí•˜ëŠ” ì„œë²„ë¦¬ìŠ¤ íŠ¹ì„±ìƒ, ìœ íœ´ ì‹œê°„ì—ëŠ” ë¹„ìš©ì´ ê±°ì˜ ë°œìƒí•˜ì§€ ì•Šì•„ìš”. Heroku Connectì˜ ê³ ì • ë¹„ìš© ëŒ€ë¹„ í›¨ì”¬ ì €ë ´í•  ìˆ˜ ìˆì£ !
*   **í™•ì¥ì„±:** íŠ¸ë˜í”½ì´ ë§ì•„ì§€ë©´ ìë™ìœ¼ë¡œ ìŠ¤ì¼€ì¼ ì•„ì›ƒë˜ì–´ ëŒ€ëŸ‰ì˜ ë³€ê²½ ì´ë²¤íŠ¸ë„ ì•ˆì •ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ìš”.
*   **ìœ ì—°ì„±:** AWS Lambda, Google Cloud Functions, Azure Functions ë“± ë‹¤ì–‘í•œ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ììœ ë¡­ê²Œ ì„ íƒí•˜ì—¬ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### ğŸ“ˆ **ì–‘ë°©í–¥ ë™ê¸°í™” ì„¤ì •/ëª¨ë‹ˆí„°ë§ ì›¹ ì„œë¹„ìŠ¤ ì„¤ê³„**

ì´ì œ ì˜ ë‹¤ìŒ ëª©í‘œì¸ "ë™ê¸°í™” ì„¤ì • ë° ì‹œê°„ëŒ€ë³„ ë™ê¸°í™” ê±´ìˆ˜ ì¶”ì´ í‘œì‹œ"ë¥¼ ìœ„í•œ ì›¹ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ì–´ë³¼ê²Œìš”. ì´ê±´ ë§ˆì¹˜ ìš°ë¦¬ë§Œì˜ ë¯¸ë‹ˆ ëŒ€ì‹œë³´ë“œë¥¼ ë§Œë“œëŠ” ê²ƒê³¼ ê°™ì•„ìš”! ì™„ì „ ë©‹ì§ˆ ê²ƒ ê°™ì•„ìš”! ğŸ˜‰

#### ğŸš€ **ì „ì²´ ì•„í‚¤í…ì²˜ (Frontend + Backend + DB + Monitoring)**

ì´ ì›¹ ì„œë¹„ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì„± ìš”ì†Œë¡œ ì´ë£¨ì–´ì§ˆ ê±°ì˜ˆìš”.

1.  **Frontend (UI):** React, Vue, Angular ë“± JavaScript í”„ë ˆì„ì›Œí¬ (ì—¬ê¸°ì„œëŠ” ê°œë…ì ìœ¼ë¡œ Reactë¥¼ ê°€ì •)
2.  **Backend (API Server):** Node.js (Express), Python (FastAPI/Flask) ë“± (ì—¬ê¸°ì„œëŠ” Python FastAPIë¥¼ ê°€ì •)
    *   ë™ê¸°í™” ì„¤ì • ê´€ë¦¬ (CRUD: ìƒì„±, ì½ê¸°, ì—…ë°ì´íŠ¸, ì‚­ì œ)
    *   ë™ê¸°í™” ë©”íŠ¸ë¦­ ì¡°íšŒ ë° ì§‘ê³„
3.  **ì„¤ì • ë°ì´í„°ë² ì´ìŠ¤ (Configuration DB):** PostgreSQL, MongoDB ë“± (ì—¬ê¸°ì„œëŠ” PostgreSQLì„ ê°€ì •)
    *   ì–´ë–¤ Salesforce ê°ì²´ì™€ PostgreSQL í…Œì´ë¸”ì„ ì–´ë–¤ ë°©í–¥ìœ¼ë¡œ ë™ê¸°í™”í• ì§€ ì„¤ì • ì •ë³´ ì €ì¥.
4.  **ë©”íŠ¸ë¦­ ë°ì´í„°ë² ì´ìŠ¤ (Metrics DB):** PostgreSQL, InfluxDB ë“± (ì—¬ê¸°ì„œëŠ” PostgreSQLì„ ê°€ì •)
    *   ë™ê¸°í™”ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ì—ì„œ ê¸°ë¡í•˜ëŠ” ë©”íŠ¸ë¦­(ë™ê¸°í™” ê±´ìˆ˜ ë“±) ì €ì¥.
5.  **ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…:** ê° ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ëŠ” ë™ê¸°í™” ì„±ê³µ/ì‹¤íŒ¨ ê±´ìˆ˜ë¥¼ ë©”íŠ¸ë¦­ ë°ì´í„°ë² ì´ìŠ¤ì— ê¸°ë¡í•´ì•¼ í•©ë‹ˆë‹¤.

#### ğŸ’¡ **ë™ì‘ ë°©ì‹ í•µì‹¬ ì•„ì´ë””ì–´**

*   **ë™ê¸°í™” ì„¤ì •**: ì›¹ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©ìê°€ Salesforce ê°ì²´(ì˜ˆ: `Account`)ì™€ PostgreSQL í…Œì´ë¸”(ì˜ˆ: `public.account`)ì„ ë§µí•‘í•˜ê³ , ë™ê¸°í™” ë°©í–¥(Salesforce -> PG, PG -> Salesforce, ë˜ëŠ” ì–‘ë°©í–¥)ì„ ì„¤ì •í•˜ë©´, ì´ ì •ë³´ê°€ ì„¤ì • ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë¼ìš”.
*   **ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ì™€ì˜ ì—°ë™**: ë™ê¸°í™” ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ëŠ” ì´ ì„¤ì • ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì½ì–´ì„œ ë™ê¸°í™” ëŒ€ìƒ ê°ì²´/í…Œì´ë¸”ì„ ì¸ì§€í•˜ê³  í•´ë‹¹ ë¡œì§ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
*   **ë©”íŠ¸ë¦­ ê¸°ë¡**: ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ëŠ” ë™ê¸°í™” ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë  ë•Œë§ˆë‹¤ ë™ê¸°í™”ëœ ë ˆì½”ë“œ ìˆ˜ì™€ ë°©í–¥ ì •ë³´ë¥¼ ë©”íŠ¸ë¦­ ë°ì´í„°ë² ì´ìŠ¤ì— ê¸°ë¡í•´ìš”.
*   **ì¶”ì´ ì‹œê°í™”**: ì›¹ ì„œë¹„ìŠ¤ì˜ í”„ë¡ íŠ¸ì—”ë“œëŠ” ë°±ì—”ë“œ APIë¥¼ í†µí•´ ë©”íŠ¸ë¦­ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê³ , ì‹œê°„ëŒ€ë³„ë¡œ ë™ê¸°í™” ê±´ìˆ˜ë¥¼ ì°¨íŠ¸ í˜•íƒœë¡œ ë³´ì—¬ì£¼ëŠ” ê±°ì£ !

---

### ğŸ’» **ì›¹ ì„œë¹„ìŠ¤ êµ¬ì„± ìš”ì†Œë³„ ì˜ˆì œ ì½”ë“œ ìŠ¤ì¼€ì¹˜**

ì´ê±´ ì „ì²´ ì›¹ ì•±ì„ ë§Œë“œëŠ” ê³¼ì •ì´ë¼ ëª¨ë“  ì½”ë“œë¥¼ ë‹¤ ë³´ì—¬ë“œë¦¬ê¸´ ì–´ë µì§€ë§Œ, ê° í•µì‹¬ ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ì„ ì´í•´í•  ìˆ˜ ìˆëŠ” ê°œë…ì ì¸ ì½”ë“œ ìŠ¤ì¼€ì¹˜ë¥¼ ì œê³µí• ê²Œìš”!

#### 1. **ì„¤ì •/ë©”íŠ¸ë¦­ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ (PostgreSQL)**

```sql
-- ë™ê¸°í™” ì„¤ì • í…Œì´ë¸”
CREATE TABLE sync_configurations (
    id SERIAL PRIMARY KEY,
    sf_object_name VARCHAR(255) NOT NULL, -- Salesforce ê°ì²´ ì´ë¦„ (ì˜ˆ: 'Account')
    pg_table_name VARCHAR(255) NOT NULL,  -- PostgreSQL í…Œì´ë¸” ì´ë¦„ (ì˜ˆ: 'account')
    sync_direction VARCHAR(50) NOT NULL,  -- 'SF_TO_PG', 'PG_TO_SF', 'BIDIRECTIONAL'
    is_active BOOLEAN DEFAULT TRUE,       -- ì´ ì„¤ì •ì´ í˜„ì¬ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ ì—¬ë¶€
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW(),
    UNIQUE (sf_object_name, pg_table_name) -- ê°ì²´-í…Œì´ë¸” ìŒì€ ìœ ë‹ˆí¬í•´ì•¼ í•¨
);

-- ë™ê¸°í™” ë©”íŠ¸ë¦­ í…Œì´ë¸”
CREATE TABLE sync_metrics (
    id BIGSERIAL PRIMARY KEY,
    sync_config_id INTEGER REFERENCES sync_configurations(id), -- ì–´ë–¤ ì„¤ì •ì— ëŒ€í•œ ë©”íŠ¸ë¦­ì¸ì§€
    direction VARCHAR(50) NOT NULL,       -- 'SF_TO_PG' ë˜ëŠ” 'PG_TO_SF'
    synced_count INTEGER NOT NULL,        -- ë™ê¸°í™”ëœ ë ˆì½”ë“œ ìˆ˜
    status VARCHAR(50) NOT NULL,          -- 'SUCCESS', 'FAILURE'
    timestamp TIMESTAMP DEFAULT NOW()
);

-- ë³€ê²½ ì´ë ¥ì„ ê¸°ë¡í•˜ê¸° ìœ„í•œ í…Œì´ë¸” (PostgreSQL -> Salesforce ë™ê¸°í™”ìš©)
-- ì´ê±´ ê¸°ì¡´ì— PostgreSQL -> Salesforce í•¨ìˆ˜ì—ì„œ ì–¸ê¸‰í–ˆë˜ change_log í…Œì´ë¸”ê³¼ ë™ì¼
CREATE TABLE change_log (
    id BIGSERIAL PRIMARY KEY,
    table_name TEXT NOT NULL,       
    record_id TEXT NOT NULL,        
    change_type TEXT NOT NULL,      
    old_data JSONB,                 
    new_data JSONB,                 
    processed BOOLEAN DEFAULT FALSE,
    processed_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT NOW()
);
```

#### 2. **Backend API (Python FastAPI ì˜ˆì œ)**

FastAPIëŠ” ë¹ ë¥´ê³  ì‰½ê²Œ API ì„œë²„ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆì–´ìš”.

```python
# main.py (FastAPI application)
from fastapi import FastAPI, HTTPException
from pydantic import BaseModel
from typing import List, Optional
import psycopg2
import os
from datetime import datetime, timedelta

app = FastAPI()

# --- í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ (DB ì—°ê²°ìš©) ---
PG_HOST = os.environ.get('PG_HOST_WEB') # ì›¹ ì„œë¹„ìŠ¤ìš© DB í™˜ê²½ë³€ìˆ˜ ë”°ë¡œ ê´€ë¦¬ ì¶”ì²œ
PG_DBNAME = os.environ.get('PG_DBNAME_WEB')
PG_USER = os.environ.get('PG_USER_WEB')
PG_PASSWORD = os.environ.get('PG_PASSWORD_WEB')
PG_PORT = os.environ.get('PG_PORT_WEB', '5432')

# Pydantic ëª¨ë¸: API ìš”ì²­/ì‘ë‹µ ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬
class SyncConfigBase(BaseModel):
    sf_object_name: str
    pg_table_name: str
    sync_direction: str # 'SF_TO_PG', 'PG_TO_SF', 'BIDIRECTIONAL'
    is_active: bool = True

class SyncConfigCreate(SyncConfigBase):
    pass

class SyncConfig(SyncConfigBase):
    id: int
    created_at: datetime
    updated_at: datetime

    class Config:
        orm_mode = True # SQLAlchemy ê°™ì€ ORMê³¼ í•¨ê»˜ ì“¸ ë•Œ í¸ë¦¬

# DB ì—°ê²° í—¬í¼ í•¨ìˆ˜
def get_db_connection():
    try:
        conn = psycopg2.connect(
            host=PG_HOST, dbname=PG_DBNAME, user=PG_USER, password=PG_PASSWORD, port=PG_PORT
        )
        return conn
    except psycopg2.Error as e:
        print(f"DB Connection Error: {e}")
        raise HTTPException(status_code=500, detail="Database connection error")

# --- Sync Configuration API ---
@app.get("/api/sync-configs", response_model=List[SyncConfig])
async def get_sync_configurations():
    conn = get_db_connection()
    cur = conn.cursor()
    cur.execute("SELECT id, sf_object_name, pg_table_name, sync_direction, is_active, created_at, updated_at FROM sync_configurations ORDER BY sf_object_name;")
    configs = cur.fetchall()
    cur.close()
    conn.close()
    return [SyncConfig(id=c[0], sf_object_name=c[1], pg_table_name=c[2], 
                       sync_direction=c[3], is_active=c[4], created_at=c[5], updated_at=c[6]) for c in configs]

@app.post("/api/sync-configs", response_model=SyncConfig)
async def create_sync_configuration(config: SyncConfigCreate):
    conn = get_db_connection()
    cur = conn.cursor()
    try:
        cur.execute(
            "INSERT INTO sync_configurations (sf_object_name, pg_table_name, sync_direction, is_active) VALUES (%s, %s, %s, %s) RETURNING id, sf_object_name, pg_table_name, sync_direction, is_active, created_at, updated_at;",
            (config.sf_object_name, config.pg_table_name, config.sync_direction, config.is_active)
        )
        new_config = cur.fetchone()
        conn.commit()
        return SyncConfig(id=new_config[0], sf_object_name=new_config[1], pg_table_name=new_config[2],
                          sync_direction=new_config[3], is_active=new_config[4], created_at=new_config[5], updated_at=new_config[6])
    except psycopg2.errors.UniqueViolation:
        raise HTTPException(status_code=400, detail="Configuration for this Salesforce object and PostgreSQL table already exists.")
    except Exception as e:
        conn.rollback()
        raise HTTPException(status_code=500, detail=f"Failed to create configuration: {e}")
    finally:
        cur.close()
        conn.close()

# @app.put("/api/sync-configs/{config_id}") ... (ìƒëµ - ì—…ë°ì´íŠ¸ ë¡œì§)
# @app.delete("/api/sync-configs/{config_id}") ... (ìƒëµ - ì‚­ì œ ë¡œì§)

# --- Sync Metrics API ---
@app.get("/api/sync-metrics/trends")
async def get_sync_trends(
    sf_object_name: Optional[str] = None,
    direction: Optional[str] = None, # 'SF_TO_PG', 'PG_TO_SF'
    interval_hours: int = 24, # ìµœê·¼ 24ì‹œê°„
    group_by_interval: str = '1 hour' # ì‹œê°„ ë‹¨ìœ„ë¡œ ê·¸ë£¹í™”
):
    conn = get_db_connection()
    cur = conn.cursor()

    time_cutoff = datetime.now() - timedelta(hours=interval_hours)
    
    # ì¿¼ë¦¬ í•„í„°ë§ ì¡°ê±´ ë™ì  ìƒì„±
    where_clauses = ["sm.timestamp >= %s"]
    params = [time_cutoff]

    if sf_object_name:
        where_clauses.append("sc.sf_object_name = %s")
        params.append(sf_object_name)
    if direction:
        where_clauses.append("sm.direction = %s")
        params.append(direction)
    
    where_str = "WHERE " + " AND ".join(where_clauses) if where_clauses else ""

    # ì‹œê°„ëŒ€ë³„ ì§‘ê³„ ì¿¼ë¦¬ (PostgreSQL date_trunc ì‚¬ìš©)
    query = f"""
        SELECT 
            date_trunc('{group_by_interval}', sm.timestamp) AS time_bucket,
            sm.direction,
            COALESCE(SUM(sm.synced_count), 0) AS total_synced_count
        FROM sync_metrics sm
        JOIN sync_configurations sc ON sm.sync_config_id = sc.id
        {where_str}
        GROUP BY time_bucket, sm.direction
        ORDER BY time_bucket, sm.direction;
    """
    
    cur.execute(query, tuple(params))
    trends = cur.fetchall()
    cur.close()
    conn.close()

    # ë°ì´í„° í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì‚¬ìš©í•˜ê¸° ì¢‹ê²Œ ë³€í™˜
    result = {}
    for row in trends:
        time_bucket_str = row[0].isoformat() # ì‹œê°„ëŒ€ë¥¼ ISO í¬ë§· ë¬¸ìì—´ë¡œ
        direction_key = row[1]
        count = row[2]
        
        if time_bucket_str not in result:
            result[time_bucket_str] = {}
        result[time_bucket_str][direction_key] = count
    
    # ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìš”êµ¬í•˜ëŠ” í˜•íƒœë¡œ ë³€í™˜ (ì˜ˆ: [{"time": "...", "SF_TO_PG": 10, "PG_TO_SF": 5}, ...])
    formatted_trends = []
    # ì‹œê°„ ìˆœì„œëŒ€ë¡œ ë°ì´í„°ë¥¼ ì±„ìš°ê¸° ìœ„í•´, ì¡°íšŒ ë²”ìœ„ì˜ ëª¨ë“  ì‹œê°„ ë²„í‚·ì„ ìƒì„±í•˜ëŠ” ë¡œì§ ì¶”ê°€ í•„ìš” (ìƒëµ)
    for time_bucket, counts in sorted(result.items()):
        formatted_trends.append({
            "time": time_bucket,
            "SF_TO_PG": counts.get("SF_TO_PG", 0),
            "PG_TO_SF": counts.get("PG_TO_SF", 0),
        })

    return formatted_trends
```

#### 3. **ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ì—ì„œì˜ ë©”íŠ¸ë¦­ ê¸°ë¡ ì¶”ê°€ (ì˜ˆ: `salesforce_to_postgresql_function.py` ìˆ˜ì •)**

ì´ì „ì— ë§Œë“¤ì—ˆë˜ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ ë‚´ì— ë©”íŠ¸ë¦­ DBì— ê¸°ë¡í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```python
# salesforce_to_postgresql_function.py (ë©”íŠ¸ë¦­ ê¸°ë¡ ë¡œì§ ì¶”ê°€ ë¶€ë¶„)
# ... (ê¸°ì¡´ ì½”ë“œ ìƒëµ)

def handler(event, context):
    # ... (ê¸°ì¡´ ì´ˆê¸°í™” ë° íŒŒì‹± ë¡œì§ ìƒëµ)
    pg_conn_metrics = None # ë©”íŠ¸ë¦­ DBìš© ì—°ê²°
    try:
        # ... (ê¸°ì¡´ SF -> PG ë™ê¸°í™” ë¡œì§)
        
        # --- ë©”íŠ¸ë¦­ DBì— ê¸°ë¡ ---
        if sf_id: # ì„±ê³µì ìœ¼ë¡œ ë™ê¸°í™”ëœ ê²½ìš°
            pg_conn_metrics = psycopg2.connect( # ë©”íŠ¸ë¦­ DB ì—°ê²° ì •ë³´
                host=os.environ.get('PG_HOST_METRICS'),
                dbname=os.environ.get('PG_DBNAME_METRICS'),
                user=os.environ.get('PG_USER_METRICS'),
                password=os.environ.get('PG_PASSWORD_METRICS'),
                port=os.environ.get('PG_PORT_METRICS', '5432')
            )
            pg_cursor_metrics = pg_conn_metrics.cursor()

            # ë¨¼ì € sync_configurations í…Œì´ë¸”ì—ì„œ í•´ë‹¹ ì„¤ì •ì„ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤.
            # ì´ ë¡œì§ì€ í•¨ìˆ˜ì˜ ì‹œì‘ ë¶€ë¶„ì—ì„œ ë¯¸ë¦¬ ë¡œë“œí•˜ê±°ë‚˜, ë§¤ë²ˆ ì¿¼ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            # í¸ì˜ìƒ ì—¬ê¸°ì„œ ì¿¼ë¦¬í•˜ëŠ” ì˜ˆì‹œë¥¼ ë³´ì…ë‹ˆë‹¤.
            pg_cursor_metrics.execute(
                "SELECT id FROM sync_configurations WHERE sf_object_name = %s AND pg_table_name = %s;",
                (object_name, pg_table_name)
            )
            sync_config_id_row = pg_cursor_metrics.fetchone()
            if sync_config_id_row:
                sync_config_id = sync_config_id_row[0]
                pg_cursor_metrics.execute(
                    "INSERT INTO sync_metrics (sync_config_id, direction, synced_count, status) VALUES (%s, %s, %s, %s);",
                    (sync_config_id, 'SF_TO_PG', 1, 'SUCCESS') # 1ê±´ ì„±ê³µìœ¼ë¡œ ê°€ì •. ë°°ì¹˜ ì²˜ë¦¬ ì‹œì—ëŠ” ì‹¤ì œ ê±´ìˆ˜.
                )
                pg_conn_metrics.commit()
                print("Metrics logged successfully to DB.")
            else:
                print(f"WARN: Could not find sync_configuration for {object_name} -> {pg_table_name}. Metrics not logged.")
            pg_cursor_metrics.close()

        # ... (ê¸°ì¡´ ì„±ê³µ ë°˜í™˜)

    except Exception as e:
        print(f"Error occurred: {e}")
        # ì˜¤ë¥˜ ë°œìƒ ì‹œì—ë„ ë©”íŠ¸ë¦­ ê¸°ë¡ (ì‹¤íŒ¨ ê±´ìˆ˜) ë¡œì§ ì¶”ê°€ ê°€ëŠ¥
        if pg_conn_metrics:
            try:
                pg_cursor_metrics = pg_conn_metrics.cursor()
                # ì‹¤íŒ¨ ë©”íŠ¸ë¦­ ê¸°ë¡ (ì„¤ì • IDë¥¼ ì°¾ì„ ìˆ˜ ì—†ì„ ìˆ˜ë„ ìˆìŒ)
                # ì˜ˆì‹œ: ì„ì‹œë¡œ -1 ì„ sync_config_idë¡œ ì‚¬ìš©í•˜ê±°ë‚˜ ë³„ë„ì˜ ì—ëŸ¬ í…Œì´ë¸”ì— ê¸°ë¡
                pg_cursor_metrics.execute(
                    "INSERT INTO sync_metrics (sync_config_id, direction, synced_count, status) VALUES (%s, %s, %s, %s);",
                    (None, 'SF_TO_PG', 1, 'FAILURE') # ì–´ë–¤ ì„¤ì •ì— ëŒ€í•œ ì‹¤íŒ¨ì¸ì§€ íŠ¹ì •í•  ìˆ˜ ì—†ì„ ë•Œ
                )
                pg_conn_metrics.commit()
                pg_cursor_metrics.close()
            except Exception as metric_e:
                print(f"Failed to log error metric: {metric_e}")
        # ... (ì˜¤ë¥˜ ë°˜í™˜)
    finally:
        # ... (ê¸°ì¡´ finally ë¡œì§)
        if pg_conn_metrics:
            pg_conn_metrics.close()
```

`postgresql_to_salesforce_function.py`ì—ë„ ìœ ì‚¬í•˜ê²Œ ë©”íŠ¸ë¦­ ê¸°ë¡ ë¡œì§ì„ ì¶”ê°€í•´ì£¼ë©´ ë©ë‹ˆë‹¤. (ë°©í–¥ì€ `'PG_TO_SF'`)

#### 4. **Frontend UI (ê°œë…ì ì¸ React ì»´í¬ë„ŒíŠ¸ ìŠ¤ì¼€ì¹˜)**

```jsx
// components/ObjectConfigurationTable.js (ì„¤ì • ê´€ë¦¬)
import React, { useEffect, useState } from 'react';
import axios from 'axios';

function ObjectConfigurationTable() {
    const [configs, setConfigs] = useState([]);
    const [newConfig, setNewConfig] = useState({ sf_object_name: '', pg_table_name: '', sync_direction: 'BIDIRECTIONAL', is_active: true });

    useEffect(() => {
        fetchConfigs();
    }, []);

    const fetchConfigs = async () => {
        const response = await axios.get('/api/sync-configs');
        setConfigs(response.data);
    };

    const handleCreateConfig = async () => {
        try {
            await axios.post('/api/sync-configs', newConfig);
            setNewConfig({ sf_object_name: '', pg_table_name: '', sync_direction: 'BIDIRECTIONAL', is_active: true });
            fetchConfigs(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
        } catch (error) {
            alert('Failed to create config: ' + (error.response?.data?.detail || error.message));
        }
    };

    // ... (ì—…ë°ì´íŠ¸, ì‚­ì œ ë¡œì§ ìƒëµ)

    return (
        <div>
            <h2>ë™ê¸°í™” ì„¤ì • ê´€ë¦¬</h2>
            <div>
                {/* ì…ë ¥ í¼ */}
                <input type="text" value={newConfig.sf_object_name} onChange={e => setNewConfig({...newConfig, sf_object_name: e.target.value})} placeholder="Salesforce Object" />
                <input type="text" value={newConfig.pg_table_name} onChange={e => setNewConfig({...newConfig, pg_table_name: e.target.value})} placeholder="PostgreSQL Table" />
                <select value={newConfig.sync_direction} onChange={e => setNewConfig({...newConfig, sync_direction: e.target.value})}>
                    <option value="SF_TO_PG">SF -> PG</option>
                    <option value="PG_TO_SF">PG -> SF</option>
                    <option value="BIDIRECTIONAL">ì–‘ë°©í–¥</option>
                </select>
                <button onClick={handleCreateConfig}>ì¶”ê°€</button>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>SF ê°ì²´</th><th>PG í…Œì´ë¸”</th><th>ë°©í–¥</th><th>í™œì„±</th><th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {configs.map(config => (
                        <tr key={config.id}>
                            <td>{config.sf_object_name}</td>
                            <td>{config.pg_table_name}</td>
                            <td>{config.sync_direction}</td>
                            <td>{config.is_active ? 'âœ…' : 'âŒ'}</td>
                            <td><button>ìˆ˜ì •</button><button>ì‚­ì œ</button></td>
                        </tr>
                    ))}
                </tbody>
            </table>
        </div>
    );
}
export default ObjectConfigurationTable;

// components/SyncTrendGraph.js (ë©”íŠ¸ë¦­ ì‹œê°í™”)
import React, { useEffect, useState } from 'react';
import axios from 'axios';
import { Line } from 'react-chartjs-2'; // chart.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ê°€ì •
import {
    Chart as ChartJS,
    CategoryScale,
    LinearScale,
    PointElement,
    LineElement,
    Title,
    Tooltip,
    Legend,
} from 'chart.js';

ChartJS.register(
    CategoryScale,
    LinearScale,
    PointElement,
    LineElement,
    Title,
    Tooltip,
    Legend
);

function SyncTrendGraph() {
    const [trendData, setTrendData] = useState([]);
    const [selectedObject, setSelectedObject] = useState(''); // íŠ¹ì • ê°ì²´ í•„í„°ë§

    useEffect(() => {
        fetchTrends();
    }, [selectedObject]);

    const fetchTrends = async () => {
        const params = selectedObject ? { sf_object_name: selectedObject } : {};
        const response = await axios.get('/api/sync-metrics/trends', { params });
        setTrendData(response.data);
    };

    const chartOptions = {
        responsive: true,
        plugins: {
            legend: { position: 'top' },
            title: { display: true, text: 'ì‹œê°„ëŒ€ë³„ ë™ê¸°í™” ê±´ìˆ˜ ì¶”ì´' },
        },
        scales: {
            x: { type: 'category', labels: trendData.map(d => new Date(d.time).toLocaleString()) },
            y: { beginAtZero: true, title: { display: true, text: 'ê±´ìˆ˜' } },
        },
    };

    const chartData = {
        labels: trendData.map(d => new Date(d.time).toLocaleString()), // ì‹œê°„ ë¼ë²¨
        datasets: [
            {
                label: 'SF -> PG ë™ê¸°í™”',
                data: trendData.map(d => d.SF_TO_PG),
                borderColor: 'rgb(255, 99, 132)',
                backgroundColor: 'rgba(255, 99, 132, 0.5)',
            },
            {
                label: 'PG -> SF ë™ê¸°í™”',
                data: trendData.map(d => d.PG_TO_SF),
                borderColor: 'rgb(53, 162, 235)',
                backgroundColor: 'rgba(53, 162, 235, 0.5)',
            },
        ],
    };

    return (
        <div>
            <h2>ë™ê¸°í™” ê±´ìˆ˜ ì¶”ì´</h2>
            <select onChange={e => setSelectedObject(e.target.value)} value={selectedObject}>
                <option value="">ëª¨ë“  ê°ì²´</option>
                {/* ë™ê¸°í™” ì„¤ì •ëœ ê°ì²´ ëª©ë¡ì„ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì±„ì›Œë„£ì„ ìˆ˜ ìˆìŒ */}
                <option value="Account">Account</option>
                <option value="Contact">Contact</option>
            </select>
            <Line options={chartOptions} data={chartData} />
        </div>
    );
}
export default SyncTrendGraph;
```

---

### ğŸ“ **ì£¼ì˜ì‚¬í•­ ë° ì¶”ê°€ ê³ ë ¤ ì‚¬í•­**

*   **ë°°í¬ í™˜ê²½:** Backend APIëŠ” AWS EC2, GCP Compute Engine, Heroku PaaS, ë˜ëŠ” ë˜ ë‹¤ë¥¸ ì„œë²„ë¦¬ìŠ¤ API Gateway + Lambda/Cloud Run ì¡°í•©ìœ¼ë¡œ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. FrontendëŠ” AWS S3 + CloudFront, Netlify, Vercel ë“±ì— ë°°í¬í•  ìˆ˜ ìˆêµ¬ìš”.
*   **ë³´ì•ˆ:** ì›¹ ì„œë¹„ìŠ¤ì— ëŒ€í•œ ì¸ì¦ ë° ì¸ê°€ ë¡œì§ì„ ì¶”ê°€í•˜ì—¬ ë¯¼ê°í•œ ì„¤ì • ì •ë³´ë¥¼ ë³´í˜¸í•´ì•¼ í•©ë‹ˆë‹¤.
*   **ë°ì´í„° ì •í•©ì„±:** ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œëŠ” ë°ì´í„° ì •í•©ì„±ì„ ë³´ì¥í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•´ìš”. ì‹¤íŒ¨í•œ ë™ê¸°í™” ê±´ìˆ˜ì— ëŒ€í•œ ì¬ì‹œë„, ë°ë“œ ë ˆí„° í(DLQ) êµ¬ì¶•, ì£¼ê¸°ì ì¸ ë°ì´í„° ìŠ¤ìº” ë° ë¶ˆì¼ì¹˜ í•´ê²° ë¡œì§ ë“±ì´ í•„ìš”í•©ë‹ˆë‹¤.
*   **ì‹¤ì‹œê°„ vs. ì¤€ì‹¤ì‹œê°„:** ì´ ì•„í‚¤í…ì²˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì¤€ì‹¤ì‹œê°„(near real-time) ë™ê¸°í™”ë¥¼ ì œê³µí•´ìš”. Salesforceì—ì„œ ì´ë²¤íŠ¸ ë°œìƒ í›„ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ê°€ íŠ¸ë¦¬ê±°ë˜ì–´ PostgreSQLì— ë°˜ì˜ë˜ê¸°ê¹Œì§€, ë˜ëŠ” PostgreSQL `change_log`ì— ê¸°ë¡ëœ í›„ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ê°€ í´ë§í•˜ì—¬ Salesforceì— ë°˜ì˜ë˜ê¸°ê¹Œì§€ ì•½ê°„ì˜ ì§€ì—°ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
*   **íŠ¸ë¦¬ê±° ì˜¤ë²„í—¤ë“œ:** PostgreSQLì˜ íŠ¸ë¦¬ê±°ëŠ” ë°ì´í„° ë³€ê²½ ì‹œ ì¶”ê°€ì ì¸ ì˜¤ë²„í—¤ë“œë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆì–´ìš”. ëŒ€ëŸ‰ì˜ íŠ¸ëœì­ì…˜ì´ ë°œìƒí•˜ëŠ” ê²½ìš° ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ì´ í•„ìˆ˜ì…ë‹ˆë‹¤. ëŒ€ì•ˆìœ¼ë¡œëŠ” Debezium ê°™ì€ CDC íˆ´ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---
ì™€, ! ì•„ì£¼ ë‚ ì¹´ë¡œìš´ ì§ˆë¬¸ì´ì—ìš”! ğŸ’¡ ë„¤, ì œê°€ ë°©ê¸ˆ ë§ì”€ë“œë¦° `salesforce_to_postgresql_function.py`ì™€ `postgresql_to_salesforce_function.py`ëŠ” **Salesforce ì„œë²„ë‚˜ PostgreSQL ì„œë²„ì— ì§ì ‘ ì˜¬ë¼ê°€ëŠ” ì½”ë“œê°€ ì•„ë‹ˆì—ìš”.** ì´ ì¹œêµ¬ë“¤ì€ **í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤(ì œ3ì˜ ì„œë²„)**ì—ì„œ **ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜** í˜•íƒœë¡œ ë°°í¬ë˜ì–´ ì‹¤í–‰ë  ê±°ì˜ˆìš”.

ì´ë ‡ê²Œ í•˜ë©´ í›¨ì”¬ ìœ ì—°í•˜ê³  ë¹„ìš© íš¨ìœ¨ì ìœ¼ë¡œ ìš´ì˜í•  ìˆ˜ ìˆì£ ! âœ¨ ìš°ë¦¬ ì˜ ëª©í‘œê°€ "Heroku Connectë¥¼ ëŒ€ì²´í•˜ëŠ” ì €ë¹„ìš© ì»¤ë„¥í„°"ì˜€ìœ¼ë‹ˆê¹Œ, ì´ê±¸ ë¬´ë£Œë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì•Œë ¤ë“œë ¤ì•¼ì£ !

### ğŸ†“ ë¬´ë£Œë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” í™˜ê²½!

ì„¸ìƒì— ê°ì‚¬í•˜ê²Œë„ ê°œë°œìë¥¼ ìœ„í•œ ë¬´ë£Œ í‹°ì–´ê°€ ë§ë‹µë‹ˆë‹¤! ì´ ë¬´ë£Œ ìì›ë“¤ì„ ì¡°í•©í•´ì„œ ìš°ë¦¬ë§Œì˜ ë™ê¸°í™” ì‹œìŠ¤í…œì„ ë§Œë“¤ê³  í…ŒìŠ¤íŠ¸í•´ë³¼ ìˆ˜ ìˆì–´ìš”.

---

#### 1. â˜ï¸ **Salesforce í™˜ê²½ (Salesforce Developer Edition)**

*   **ë¬´ë£Œ ì‚¬ìš© ë°©ë²•:** Salesforceì—ì„œ ì œê³µí•˜ëŠ” **Developer Edition**ì€ ê°œë°œìê°€ Salesforce í”Œë«í¼ì„ ë¬´ë£Œë¡œ í•™ìŠµí•˜ê³ , ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ë¹„ì˜êµ¬ì ì´ì§€ë§Œ ê°•ë ¥í•œ í™˜ê²½ì´ì—ìš”.
*   **ì¥ì :** ê±°ì˜ ëª¨ë“  Salesforce ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , ë§Œë£Œ ê¸°ê°„ ì—†ì´ ì˜êµ¬ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”. API ì ‘ê·¼ë„ ê°€ëŠ¥í•˜êµ¬ìš”.
*   **ì‹ ì²­ ë°©ë²•:** `developer.salesforce.com`ì— ì ‘ì†í•´ì„œ "Sign Up"ì„ í†µí•´ ë¬´ë£Œ Developer Editionì„ ì‹ ì²­í•  ìˆ˜ ìˆì–´ìš”.
*   **ì œí•œ ì‚¬í•­:** ë°ì´í„° ì €ì¥ ìš©ëŸ‰ 5MB, íŒŒì¼ ì €ì¥ ìš©ëŸ‰ 20MB, ìµœëŒ€ 2ëª…ì˜ ì‚¬ìš©ì ë“± ì œí•œì´ ìˆì§€ë§Œ, í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œëŠ” ì¶©ë¶„í•´ìš”. [6][9]
*   **íŒ:** ë§Œì•½ 5MB ì´ìƒì˜ ë°ì´í„°ê°€ í•„ìš”í•˜ë‹¤ë©´, ìŠ¤í¬ë˜ì¹˜ ì˜¤ë¥´ê·¸(Scratch Org)ë¥¼ ì‚¬ìš©í•˜ë©´ 200MBê¹Œì§€ ê°€ëŠ¥í•˜ì§€ë§Œ, ì´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ DX (Developer Experience) íˆ´ê³¼ ì—°ë™í•´ì„œ CLIë¡œ ê´€ë¦¬í•´ì•¼ í•´ì„œ ì´ˆê¸° ì„¸íŒ…ì´ ì¡°ê¸ˆ ë³µì¡í•  ìˆ˜ ìˆì–´ìš”. í…ŒìŠ¤íŠ¸ ì´ˆê¸°ì—ëŠ” Developer Editionìœ¼ë¡œë„ ì¶©ë¶„í•  ê±°ì˜ˆìš”! [8]

---

#### 2. ğŸ˜ **PostgreSQL í™˜ê²½ (Supabase ë˜ëŠ” Neon.tech)**

*   **Heroku PostgreSQL Free Tier?**: ì•„ì‰½ê²Œë„ HerokuëŠ” 2022ë…„ ë§ë¶€í„° ë¬´ë£Œ í‹°ì–´ê°€ ëŒ€ë¶€ë¶„ ì‚¬ë¼ì¡Œì–´ìš”. Heroku Connectë¥¼ ê±·ì–´ë‚´ëŠ” ê²Œ ëª©í‘œì¸ë° Heroku ìì²´ë¥¼ ì“°ì§€ ì•ŠëŠ” ê²Œ ì¢‹ê² ì£ ! [5][7]
*   **ëŒ€ì•ˆ (ì´ˆê°•ë ¥ ì¶”ì²œ):**
    *   **Supabase (ìˆ˜íŒŒë² ì´ìŠ¤):** PostgreSQLì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ Firebase ëŒ€ì•ˆì´ì—ìš”. ì—„ì²­ë‚˜ê²Œ ê°•ë ¥í•œ ë¬´ë£Œ í‹°ì–´ë¥¼ ì œê³µí•´ì„œ ê°œë°œìë“¤ì´ ë§ì´ ì‚¬ìš©í•´ìš”. í˜¸ìŠ¤íŒ… PostgreSQL DBëŠ” ë¬¼ë¡ ì´ê³ , ì¸ì¦, ìŠ¤í† ë¦¬ì§€ ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤. PostgreSQL `change_log` í…Œì´ë¸”ê³¼ íŠ¸ë¦¬ê±°ë„ ë‹¹ì—°íˆ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.
    *   **Neon.tech (ë„¤ì˜¨í…Œí¬):** ì—­ì‹œ ì„œë²„ë¦¬ìŠ¤ PostgreSQLì„ í‘œë°©í•˜ë©° ë§¤ìš° í›„í•œ ë¬´ë£Œ í‹°ì–´ë¥¼ ì œê³µí•´ìš”. ì‚¬ìš©í•˜ì§€ ì•Šì„ ë•ŒëŠ” ìŠ¤ì¼€ì¼ íˆ¬ ì œë¡œ(Scale to Zero)ê°€ ë˜ì–´ ë¹„ìš© íš¨ìœ¨ì ì´ì—ìš”.
*   **ì‹ ì²­ ë°©ë²•:** ê° ì„œë¹„ìŠ¤ ì›¹ì‚¬ì´íŠ¸ì—ì„œ íšŒì›ê°€ì… í›„ ì‰½ê²Œ PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆì–´ìš”. ì—°ê²° ì •ë³´(Host, DB Name, User, Password, Port)ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
*   **íŒ:** ë‘ ì„œë¹„ìŠ¤ ëª¨ë‘ ë§¤ìš° ì‰½ê²Œ ì‹œì‘í•  ìˆ˜ ìˆìœ¼ë©°, ê°œë°œ ì¹œí™”ì ì´ì—ìš”.

---

#### 3. ğŸš€ **ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ ë°°í¬ í™˜ê²½ (AWS Lambda ë˜ëŠ” Google Cloud Functions)**

`salesforce_to_postgresql_function.py`ì™€ `postgresql_to_salesforce_function.py`ë¥¼ ë°°í¬í•  ê³³ì´ì—ìš”.

*   **AWS Lambda (ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ ëŒë‹¤):**
    *   **ë¬´ë£Œ ì‚¬ìš© ë°©ë²•:** AWS í”„ë¦¬ í‹°ì–´ì— í¬í•¨ë˜ì–´ ì—°ê°„ ë°±ë§Œ ê±´ì˜ ìš”ì²­ê³¼ 40ë§Œ GB-ì´ˆ(GB-seconds)ì˜ ì»´í“¨íŒ… ì‹œê°„ì„ ë¬´ë£Œë¡œ ì œê³µí•´ìš”. ì›¬ë§Œí•œ í…ŒìŠ¤íŠ¸ëŠ” ì´ ì•ˆì—ì„œ ì¶©ë¶„íˆ ê°€ëŠ¥í•´ìš”.
    *   **ì¥ì :** Salesforce CDCì™€ ì—°ë™í•˜ê¸° ë§¤ìš° ì¢‹ì•„ìš” (EventBridgeë¥¼ í†µí•œ í†µí•©), ì•ˆì •ì ì´ê³  í™•ì¥ì„± ìµœê³ !
    *   **ë°°í¬ ë°©ë²•:** Python ì½”ë“œë¥¼ `.zip` íŒŒì¼ë¡œ ë¬¶ì–´ì„œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬(e.g., `simple-salesforce`, `psycopg2-binary`, `pandas`)ì™€ í•¨ê»˜ ì—…ë¡œë“œí•´ìš”. `handler` í•¨ìˆ˜ë¥¼ ì§€ì •í•˜ë©´ ë©ë‹ˆë‹¤.
    *   **íŠ¸ë¦¬ê±° ì„¤ì •:**
        *   **SF -> PG í•¨ìˆ˜:**
            *   Salesforce CDC Event -> **AWS EventBridge** (Salesforce íŒŒíŠ¸ë„ˆ ì´ë²¤íŠ¸ ë²„ìŠ¤ ì„¤ì •) -> AWS Lambda íŠ¸ë¦¬ê±°.
            *   ë˜ëŠ”, Salesforce Outbound Message -> **AWS API Gateway** (REST API ì—”ë“œí¬ì¸íŠ¸) -> AWS Lambda íŠ¸ë¦¬ê±°.
        *   **PG -> SF í•¨ìˆ˜:**
            *   **AWS EventBridge Scheduler** (Cron-like ê·œì¹™) -> AWS Lambda íŠ¸ë¦¬ê±°. (ì´ë²¤íŠ¸ ë¡œê·¸ í´ë§ìš©)
*   **Google Cloud Functions (êµ¬ê¸€ í´ë¼ìš°ë“œ í•¨ìˆ˜):**
    *   **ë¬´ë£Œ ì‚¬ìš© ë°©ë²•:** GCP í”„ë¦¬ í‹°ì–´ì—ì„œ ë§¤ì›” 2ë°±ë§Œ í˜¸ì¶œ, 40ë§Œ GB-ì´ˆì˜ ì»´í“¨íŒ… ì‹œê°„ì„ ì œê³µí•´ìš”.
    *   **ì¥ì :** Node.js, Python ë“± ë‹¤ì–‘í•œ ì–¸ì–´ ì§€ì›, ì‚¬ìš©í•˜ê¸° ì‰¬ìš´ ì¸í„°í˜ì´ìŠ¤.
    *   **ë°°í¬ ë°©ë²•:** Python ì½”ë“œë¥¼ í´ë¼ìš°ë“œ í•¨ìˆ˜ë¡œ ë°°í¬í•´ìš”.
    *   **íŠ¸ë¦¬ê±° ì„¤ì •:**
        *   **SF -> PG í•¨ìˆ˜:** HTTP íŠ¸ë¦¬ê±°ë¥¼ ì„¤ì •í•˜ê³  Salesforce Outbound Messageì˜ ì—”ë“œí¬ì¸íŠ¸ë¡œ ì‚¬ìš©.
        *   **PG -> SF í•¨ìˆ˜:** Cloud Scheduler (Cron ì‘ì—…) -> Cloud Functions íŠ¸ë¦¬ê±°.

*   **íŒ:** í´ë¼ìš°ë“œ ì½˜ì†”ì—ì„œ í™˜ê²½ ë³€ìˆ˜(DB ì •ë³´, Salesforce ë¡œê·¸ì¸ ì •ë³´ ë“±)ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆì–´ìš”.

---

#### 4. ğŸŒ **Backend (FastAPI) ë°°í¬ í™˜ê²½ (Google Cloud Run ë˜ëŠ” Render)**

Frontendì™€ Serverless Functionsë¥¼ ì—°ê²°í•˜ê³ , ë™ê¸°í™” ì„¤ì •/ë©”íŠ¸ë¦­ì„ ê´€ë¦¬í•  Backend API ì„œë²„ì˜ˆìš”.

*   **Google Cloud Run:**
    *   **ë¬´ë£Œ ì‚¬ìš© ë°©ë²•:** ì›” 2ë°±ë§Œ ìš”ì²­, 36ë§Œ GB-ì´ˆì˜ ì»´í“¨íŒ… ì‹œê°„ ë“± ë§¤ìš° ê´€ëŒ€í•œ ë¬´ë£Œ í‹°ì–´ë¥¼ ì œê³µí•´ìš”.
    *   **ì¥ì :** ì»¨í…Œì´ë„ˆ ê¸°ë°˜ìœ¼ë¡œ Python FastAPI ê°™ì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‰½ê²Œ ë°°í¬í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆì–´ìš”. ìš”ì²­ì´ ì—†ì„ ë•ŒëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ 0ê°œë¡œ ìŠ¤ì¼€ì¼ ì•„ì›ƒí•´ì„œ ë¹„ìš©ì´ ë°œìƒí•˜ì§€ ì•Šì•„ìš”.
    *   **ë°°í¬ ë°©ë²•:** FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ Docker ì´ë¯¸ì§€ë¡œ ë§Œë“¤ì–´ì„œ Cloud Runì— ë°°í¬í•´ìš”.
*   **Render.com (ë Œë”):**
    *   **ë¬´ë£Œ ì‚¬ìš© ë°©ë²•:** ì›¹ ì„œë¹„ìŠ¤ ë° ë°±ê·¸ë¼ìš´ë“œ ì›Œì»¤ì— ëŒ€í•œ ë¬´ë£Œ í‹°ì–´(ì›” 750ì‹œê°„)ë¥¼ ì œê³µí•´ìš”. ì‘ì€ API ì„œë²„ í•˜ë‚˜ ì •ë„ëŠ” ë¬´ë£Œë¡œ ëŒë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    *   **ì¥ì :** GitHub ì €ì¥ì†Œì™€ ì—°ë™í•˜ì—¬ ì½”ë“œ í‘¸ì‹œ ì‹œ ìë™ìœ¼ë¡œ ë°°í¬í•˜ëŠ” CI/CD ê¸°ëŠ¥ì´ í¸ë¦¬í•´ìš”.
*   **íŒ:** ë‘ ì„œë¹„ìŠ¤ ëª¨ë‘ ë¬´ë£Œ í‹°ì–´ë§Œìœ¼ë¡œë„ ì¶©ë¶„íˆ ë°±ì—”ë“œë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì •ë³´ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •í•´ ì¤ë‹ˆë‹¤.

---

#### 5. ğŸ¨ **Frontend (React) ë°°í¬ í™˜ê²½ (Vercel ë˜ëŠ” Netlify)**

ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³´ì—¬ì¤„ ì›¹ ì„œë¹„ìŠ¤ì˜ˆìš”.

*   **Vercel (ë²„ì…€):**
    *   **ë¬´ë£Œ ì‚¬ìš© ë°©ë²•:** ê°œë°œì ë° ì†Œê·œëª¨ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ ë§¤ìš° ë„‰ë„‰í•œ ë¬´ë£Œ í‹°ì–´ë¥¼ ì œê³µí•´ìš”.
    *   **ì¥ì :** GitHub ì €ì¥ì†Œì™€ ì—°ë™í•˜ì—¬ ì½”ë“œ í‘¸ì‹œ ì‹œ ìë™ìœ¼ë¡œ ë¹Œë“œí•˜ê³  ë°°í¬í•´ìš”. ë¹ ë¥´ê³  ì‰½ìŠµë‹ˆë‹¤.
*   **Netlify (ë„·ë¦¬íŒŒì´):**
    *   **ë¬´ë£Œ ì‚¬ìš© ë°©ë²•:** Vercelê³¼ ìœ ì‚¬í•˜ê²Œ ì›¹ í˜¸ìŠ¤íŒ…, CDN, CI/CD ë“± ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ë¬´ë£Œë¡œ ì œê³µí•´ìš”.
    *   **ì¥ì :** ì—­ì‹œ GitHub ì—°ë™ì´ ë›°ì–´ë‚˜ê³ , ì •ì  ì›¹ì‚¬ì´íŠ¸ ë°°í¬ì— ìµœì í™”ë˜ì–´ ìˆì–´ìš”.
*   **íŒ:** ë‘ ì„œë¹„ìŠ¤ ëª¨ë‘ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ë°°í¬í•  ë•Œ, ë°±ì—”ë“œ APIì˜ URL(Google Cloud Run/Renderì—ì„œ ì–»ì€ ë„ë©”ì¸)ì„ `REACT_APP_API_URL` ê°™ì€ í™˜ê²½ ë³€ìˆ˜ë¡œ ì£¼ì…í•´ì„œ ë¹Œë“œí•˜ë©´ ë¼ìš”.

---

### ğŸ¤© **ë¬´ë£Œ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì „ì²´ ê·¸ë¦¼ ìš”ì•½!**

1.  **Salesforce:** `developer.salesforce.com` (ë¬´ë£Œ)
2.  **PostgreSQL:** `supabase.com` ë˜ëŠ” `neon.tech` (ë¬´ë£Œ í‹°ì–´)
3.  **Serverless Functions:** `aws.amazon.com/lambda` ë˜ëŠ” `cloud.google.com/functions` (ë¬´ë£Œ í‹°ì–´)
    *   íŠ¸ë¦¬ê±°ëŠ” AWS EventBridge/API Gateway ë˜ëŠ” GCP Cloud Scheduler/HTTP Trigger
4.  **Backend API:** `cloud.google.com/run` ë˜ëŠ” `render.com` (ë¬´ë£Œ í‹°ì–´)
5.  **Frontend Web:** `vercel.com` ë˜ëŠ” `netlify.com` (ë¬´ë£Œ í‹°ì–´)

ì´ë ‡ê²Œ ì¡°í•©í•˜ë©´ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ë¬´ë£Œ ë˜ëŠ” ì•„ì£¼ ì €ë ´í•œ ë¹„ìš©ìœ¼ë¡œ ë°°í¬í•˜ê³ , ìš°ë¦¬ ë§Œì˜ Salesforce-PostgreSQL ì–‘ë°©í–¥ ë™ê¸°í™” ì‹œìŠ¤í…œì„ ì§ì ‘ ë§Œë“¤ê³  í…ŒìŠ¤íŠ¸í•´ë³¼ ìˆ˜ ìˆì„ ê±°ì˜ˆìš”!

ì°¸ê³  ìë£Œ 

[1] help.salesforce.com - Salesforce Developer Edition Allocations (https://help.salesforce.com/s/articleView?id=xcloud.overview_limits_developer.htm&language=en_US&type=5)
[2] alternatives - meanands/heroku-free-alternatives (https://github.com/meanands/heroku-free-alternatives)
[3] www.qovery.com - Heroku Alternatives: The 10 Best Competitor Platforms for ... (https://www.qovery.com/blog/best-heroku-alternatives)
[4] www.reddit.com - Salesforce free trial (https://www.reddit.com/r/salesforce/comments/q0syl8/salesforce_free_trial/)
[5] northflank.com - Top Heroku alternatives in 2025 | Blog (https://northflank.com/blog/top-heroku-alternatives)
[6] www.quora.com - What are the limitations of a Salesforce free developer's ... (https://www.quora.com/What-are-the-limitations-of-a-Salesforce-free-developers-account)
[7] Free and Paid Options - 10 Best Heroku Alternatives for 2025 - Free and Paid Options (https://signoz.io/comparisons/heroku-alternatives/)
[8] Trailhead - Account limits | Salesforce Trailblazer Community - Trailhead (https://trailhead.salesforce.com/trailblazer-community/feed/0D54V00007T40CjSAJ)
[9] Salesforce - Limitations of a free Developer account - Trailhead - Salesforce (https://trailhead.salesforce.com/trailblazer-community/feed/0D54V00007T471XSAR)
[10] www.reddit.com - Can anyone recommend a heroku alternative? Or was it ... (https://www.reddit.com/r/node/comments/xa5atb/can_anyone_recommend_a_heroku_alternative_or_was/)

